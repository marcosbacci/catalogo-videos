(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{385:function(e,t){e.exports="data:image/png;base64,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"},397:function(e,t,a){e.exports=a(508)},402:function(e,t,a){},403:function(e,t,a){},508:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(19),c=a.n(o),i=(a(402),a(539)),l=a(545),s=a(243),u=a(32),d=(a(403),a(244)),m=a(209),p=a(561),f=a(72),b=a(567),g=a(17),h=a(538),v=Object(d.a)({title:{color:"#999999"}}),O=function(e){var t=v();return r.createElement(h.a,null,r.createElement(f.a,{className:t.title,component:"h1",variant:"h5"},e.title),r.createElement(s.a,{paddingTop:1},e.children))},j=function(e){return r.createElement(O,{title:"Dashboard"})},E=a(556),y=a(92),x=a.n(y),P=a(20),C=a(12),k=a.n(C),S=a(24),w=a(8),F=a(11),R=a(94),T=a(91),I=a(66),A=a(102),D=a.n(A),N=D.a.create({baseURL:"http://localhost:8000/api"}),B=[N];var L,q=a(188),_=a(189),M=a(371),U=function(){function e(t,a){Object(q.a)(this,e),this.http=t,this.resource=a,this.cancelList=null}return Object(_.a)(e,[{key:"list",value:function(e){this.cancelList=D.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,a){var r=t;this.containsFile(t)&&(r=this.getFormData(t));var n=a||{},o=n.http,c=n.config;return a&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),r,c):this.http.put("".concat(this.resource,"/").concat(e),r,c)}},{key:"partialUpdate",value:function(e,t,a){var r=t;this.containsFile(t)&&(r=this.getFormData(t));var n=a||{},o=n.http,c=n.config;return a&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),r,c):this.http.patch("".concat(this.resource,"/").concat(e),r,c)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return D.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(M.serialize)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),V=new U(N,"categories"),z=a(112),G=a(365),W=a(120),H=a(117),Y={primary:{main:"#79aec8",contrastText:"#fff"},secondary:{main:"#4db5ab",contrastText:"#fff",dark:"#055a52"},background:{default:"#fafafa"},success:{main:W.a[500],contrastText:"#fff"},error:{main:H.a[500]}},Q=Object(z.a)({palette:Y,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:Y.background.default},icon:{color:Y.primary.main,"&:hover, &:active, &.focus":{color:Y.primary.dark}},iconActive:{color:Y.primary.dark,"&:hover, &:active, &.focus":{color:Y.primary.dark}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBottom:8,backgroundColor:Y.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#fff"},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:"#fff !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:Y.primary.main,"& span":{color:"#fff !important"}}},MUIDataTableBodyCell:{root:{color:Y.secondary.main,"&:hover, &:active, &.focus":{color:Y.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:Y.primary.main},iconButton:{color:Y.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:Y.background.default}}},MUIDataTablePagination:{root:{color:Y.primary.main}}}}),X=Object(z.a)({palette:{primary:Q.palette.success,secondary:Q.palette.secondary}}),Z=function(){return r.createElement(i.a,{theme:X},r.createElement(G.a,{label:"Sim",color:"primary"}))},K=function(){return r.createElement(i.a,{theme:X},r.createElement(G.a,{label:"N\xe3o",color:"secondary"}))},J=a(372),$=a.n(J),ee=a(56),te=a(21),ae=a(558),re=a(145),ne=a(340),oe=a(249),ce=a.n(oe),ie=a(191),le=a(250),se=a.n(le),ue=Object(d.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"}),de=function(e){var t=e.options,a=e.searchText,r=e.onSearch,o=e.onHide,c=ue(),i=n.a.useState(""),l=Object(F.a)(i,2),s=l[0],u=l[1];return a&&a.update&&o(),n.a.createElement(re.a,{appear:!0,in:!0,timeout:300},n.a.createElement("div",{className:c.main},n.a.createElement(ce.a,{className:c.searchIcon}),n.a.createElement(ne.a,Object.assign({className:c.searchText,autoFocus:!0,InputProps:{"data-test-id":t.textLabels.toolbar.search},inputProps:{"aria-label":t.textLabels.toolbar.search},value:s||"",onKeyDown:function(e){"Escape"===e.key&&o()},onChange:function(e){var t=e.target.value;u(t,function(e){clearTimeout(L),L=setTimeout((function(){return r(e)}),300)}(t))},fullWidth:!0,placeholder:t.searchPlaceholder},t.searchProps?t.searchProps:{})),n.a.createElement(ie.a,{className:c.clearIcon,onClick:o},n.a.createElement(se.a,null))))},me={print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina:",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver colunas",filterTable:"Filtrar tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registro(s) selecionado(s)",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,a,n){return r.createElement(de,{searchText:e,onSearch:t,onHide:a,options:n})}},pe=r.forwardRef((function(e,t){var a,n=Object(ee.cloneDeep)(Object(te.a)()),o=Object(ae.a)(n.breakpoints.down("sm")),c=Object(ee.merge)({options:Object(ee.cloneDeep)(me)},e,{columns:(a=e.columns,l(a),a.map((function(e){return Object(ee.omit)(e,"width")})))});function l(e){e.forEach((function(e,t){e.width&&(n.overrides.MUIDataTableHeadCell.fixedHeader["&:nth-child(".concat(t+2,")")]={width:e.width})}))}c.options.textLabels.body.noMatch=!0===e.loading?"Carregando...":c.options.textLabels.body.noMatch,c.options.responsive=o?"standard":"simple";var s=Object(w.a)(Object(w.a)({},Object(ee.omit)(c,"loading")),{},{ref:t});return r.createElement(i.a,{theme:n},r.createElement($.a,s))}));function fe(e){return function(t){var a=Object(ee.cloneDeep)(t),r='&[data-testid^="MuiDataTableBodyCell-'.concat(e,'"]');return a.overrides.MUIDataTableBodyCell.root[r]={paddingTop:"0px;",paddingBottom:"0px"},a}}var be,ge=a(29),he=a(77),ve=a.n(he),Oe=a(341),je=a(377),Ee=a.n(je),ye=Object(d.a)((function(e){return{iconButton:e.overrides.MUIDataTableToolbar.icon}})),xe=function(e){var t=ye();return r.createElement(Oe.a,{title:"Limpar busca"},r.createElement(ie.a,{className:t.iconButton,onClick:e.handleClick},r.createElement(Ee.a,null)))},Pe=a(126),Ce=Object(Pe.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),ke=Ce.Types,Se=Ce.Creators,we={search:null,pagination:{page:1,per_page:15,total:0},order:{sort:null,dir:null}},Fe=Object(Pe.createReducer)(we,(be={},Object(P.a)(be,ke.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;return Object(w.a)(Object(w.a)({},e),{},{search:t.payload.search,pagination:Object(w.a)(Object(w.a)({},e.pagination),{},{page:1})})})),Object(P.a)(be,ke.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;return Object(w.a)(Object(w.a)({},e),{},{pagination:Object(w.a)(Object(w.a)({},e.pagination),{},{page:t.payload.page})})})),Object(P.a)(be,ke.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;return Object(w.a)(Object(w.a)({},e),{},{pagination:Object(w.a)(Object(w.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(P.a)(be,ke.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;return Object(w.a)(Object(w.a)({},e),{},{pagination:Object(w.a)(Object(w.a)({},e.pagination),{},{page:1}),order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(P.a)(be,ke.SET_RESET,(function(){var e=arguments.length>1?arguments[1]:void 0;return e.payload.state})),Object(P.a)(be,ke.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;return Object(w.a)(Object(w.a)({},e),{},{extraFilter:Object(w.a)(Object(w.a)({},e.extraFilter),t.payload)})})),be));var Re=a(179);Object(Re.f)({mixed:{required:"${path} \xe9 requerido",notType:"${path} \xe9 inv\xe1lido"},string:{max:"${path} precisa ter no m\xe1ximo ${max} caracteres"},number:{min:"${path} precisa ser no m\xednimo ${min}"}});var Te=a(569);function Ie(e){var t=Object(g.f)(),a=Object(g.g)(),n=e.rowsPerPageOptions,o=e.rowPerPage,c=e.extraFilter,i=e.columns,l=Object(r.useMemo)((function(){return Re.e().shape(Object(w.a)({search:Re.g().transform((function(e){return e||void 0})).default(""),pagination:Re.e().shape({page:Re.d().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:Re.d().transform((function(e){return isNaN(e)||!n.includes(parseInt(e))?void 0:e})).default(o)}),order:Re.e().shape({sort:Re.g().nullable().transform((function(e){return i.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:Re.g().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},c&&{extraFilter:c.createValidationSchema()}))}),[n,o,i,c]),s=Object(r.useMemo)((function(){var e=new URLSearchParams(a.search.substr(1));return l.cast(Object(w.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},c&&{extraFilter:c.getStateFromURL(e)}))}),[a,l,c]),u=new Ae(Object(w.a)(Object(w.a)({},e),{},{history:t,schema:l})),d=s,m=Object(r.useReducer)(Fe,d),p=Object(F.a)(m,2),f=p[0],b=p[1],h=Object(Te.a)(f,e.debounceTime),v=Object(F.a)(h,1)[0],O=Object(r.useState)(0),j=Object(F.a)(O,2),E=j[0],y=j[1];return u.state=f,u.dispatch=b,u.applyOrderInColumns(),Object(r.useEffect)((function(){u.replaceHistory()}),[]),{columns:u.columns,filterManager:u,filterState:f,debouncedFilterState:v,dispatch:b,totalRecords:E,setTotalRecords:y}}var Ae=function(){function e(t){Object(q.a)(this,e),this.schema=void 0,this.state=null,this.dispatch=null,this.columns=void 0,this.rowPerPage=void 0,this.rowsPerPageOptions=void 0,this.history=void 0,this.tableRef=void 0,this.extraFilter=void 0;var a=t.schema;this.schema=a,this.columns=t.columns,this.rowPerPage=t.rowPerPage,this.rowsPerPageOptions=t.rowsPerPageOptions,this.history=t.history,this.tableRef=t.tableRef,this.extraFilter=t.extraFilter}return Object(_.a)(e,[{key:"resetTablePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowPerPage),this.tableRef.current.changePage(0)}},{key:"changeSearch",value:function(e){this.dispatch(Se.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(Se.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Se.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(Se.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"changeExtraFilter",value:function(e){this.dispatch(Se.updateExtraFilter(e))}},{key:"resetFilter",value:function(){var e=Object(w.a)(Object(w.a)({},this.schema.cast({})),{},{search:{value:null,update:!0}});this.dispatch(Se.setReset({state:e})),this.resetTablePagination()}},{key:"applyOrderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.sort?Object(w.a)(Object(w.a)({},t),{},{options:Object(w.a)(Object(w.a)({},t.options),{},{sortDirection:e.state.order.dir})}):t}))}},{key:"clearSearchText",value:function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}},{key:"replaceHistory",value:function(){this.history.replace({pathname:this.history.location.pathname,search:"?"+new URLSearchParams(this.formatSearchParams()),state:this.state})}},{key:"pushHistory",value:function(){var e={pathname:this.history.location.pathname,search:"?"+new URLSearchParams(this.formatSearchParams()),state:Object(w.a)(Object(w.a)({},this.state),{},{search:this.clearSearchText(this.state.search)})};Object(ee.isEqual)(this.history.location.state,this.state)||this.history.push(e)}},{key:"formatSearchParams",value:function(){var e=this.clearSearchText(this.state.search);return Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},e&&""!==e&&{search:e}),1!==this.state.pagination.page&&{page:this.state.pagination.page}),15!==this.state.pagination.per_page&&{per_page:this.state.pagination.per_page}),this.state.order.sort&&{sort:this.state.order.sort,dir:this.state.order.dir}),this.extraFilter&&this.extraFilter.formatSearchParams(this.state))}}]),e}(),De=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"is_active",label:"Ativo?",width:"4%",options:{filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e,t,a){return e?r.createElement(Z,null):r.createElement(K,null)}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,a){return r.createElement("span",null,Object(R.a)(Object(T.a)(e),"dd/MM/yyyy"))}}},{name:"action",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t){return r.createElement(ie.a,{color:"secondary",component:u.b,to:"/categories/".concat(t.rowData[0],"/edit")},r.createElement(ve.a,null))}}}],Ne=[15,25,50],Be=function(){var e=Object(ge.b)(),t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(F.a)(a,2),o=n[0],c=n[1],l=Object(r.useState)(!1),s=Object(F.a)(l,2),u=s[0],d=s[1],m=Object(r.useRef)(),p=Ie({columns:De,debounceTime:300,rowPerPage:15,rowsPerPageOptions:Ne,tableRef:m,extraFilter:{createValidationSchema:function(){return Re.e().shape({is_active:Re.g().nullable().default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(w.a)({},e.extraFilter.is_active&&{is_active:e.extraFilter.is_active}):void 0},getStateFromURL:function(e){return{is_active:e.get("is_active")}}}}),f=p.columns,b=p.filterManager,g=p.filterState,h=p.debouncedFilterState,v=p.totalRecords,O=p.setTotalRecords,j=f.findIndex((function(e){return"is_active"===e.name})),E=f[j],y=g.extraFilter&&g.extraFilter.is_active;return E.options.filterList=y?[y]:[],Object(r.useEffect)((function(){function a(){return(a=Object(S.a)(k.a.mark((function a(){var r,n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d(!0),a.prev=1,a.next=4,V.list({queryParams:Object(w.a)({search:b.clearSearchText(g.search),page:g.pagination.page,per_page:g.pagination.per_page,sort:g.order.sort,dir:g.order.dir},h.extraFilter&&h.extraFilter.is_active&&{is_active:"Sim"===h.extraFilter.is_active?1:0})});case 4:r=a.sent,n=r.data,t.current&&(c(n.data),O(n.meta.total)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.log(a.t0),!V.isCancelledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e.enqueueSnackbar("N\xe3o foi poss\xedvel buscar as categorias",{variant:"error"});case 15:return a.prev=15,d(!1),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[1,9,15,18]])})))).apply(this,arguments)}return t.current=!0,b.pushHistory(),function(){a.apply(this,arguments)}(),function(){t.current=!1}}),[b.clearSearchText(h.search),h.pagination.page,h.pagination.per_page,h.order,JSON.stringify(h.extraFilter)]),r.createElement(i.a,{theme:fe(De.length-1)},r.createElement(pe,{title:"",columns:f,data:o,loading:u,ref:m,options:{serverSide:!0,responsive:"standard",searchText:g.search,page:g.pagination.page-1,rowsPerPage:g.pagination.per_page,rowsPerPageOptions:Ne,count:v,onFilterChange:function(e,t,a){var r=f.findIndex((function(t){return t.name===e}));b.changeExtraFilter(Object(P.a)({},e,t[r].length?t[r][0]:null))},onRowsDelete:function(e){var t=e.data.map((function(e){return o[e.dataIndex].id}));V.delete(t)},customToolbar:function(){return r.createElement(xe,{handleClick:function(){return b.resetFilter()}})},onSearchChange:function(e){return b.changeSearch(e)},onChangePage:function(e){return b.changePage(e)},onChangeRowsPerPage:function(e){return b.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return b.changeColumnSort(e,t)}}}))},Le=function(){return r.createElement(O,{title:"Listagem categorias"},r.createElement(s.a,{dir:"rtl",paddingBottom:2},r.createElement(E.a,{title:"Adicionar categoria",color:"secondary",size:"small",component:u.b,to:"/categories/create"},r.createElement(x.a,null))),r.createElement(s.a,null,r.createElement(Be,null)))},qe=a(333),_e=a(364),Me=a(83),Ue=a(93),Ve=a(332),ze=Object(d.a)((function(e){return{submit:{margin:e.spacing(1)}}})),Ge=function(e){var t,a={className:ze().submit,color:"secondary",variant:"contained",disabled:null!==(t=e.disabledButtons)&&void 0!==t&&t};return r.createElement(s.a,{dir:"ltf"},r.createElement(Ve.a,Object.assign({color:"primary"},a,{onClick:e.handleSave}),"Salvar"),r.createElement(Ve.a,Object.assign({},a,{type:"submit"}),"Salvar e continuar editando"))},We=a(210),He=a(557),Ye=Object(d.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),Qe=function(e){var t=Ye(),a=e.GridContainerProps,n=e.GridItemProps,o=Object(We.a)(e,["GridContainerProps","GridItemProps"]);return r.createElement("form",o,r.createElement(He.a,Object.assign({container:!0},a),r.createElement(He.a,Object.assign({className:t.gridItem,item:!0},n),e.children)))},Xe=function(e,t){var a=Object(ge.b)().enqueueSnackbar;Object(r.useEffect)((function(){var r=0!==Object.keys(t).length;e>0&&r&&a("Formul\xe1rio inv\xe1lido. Reveja os campos marcados em vermelhos.",{variant:"error"})}),[e,t,a])},Ze=Re.e().shape({name:Re.g().label("Nome").required().max(255),is_active:Re.b()}),Ke=function(){var e=Object(Me.useForm)({resolver:Object(Ue.yupResolver)(Ze),defaultValues:{name:"",is_active:!0}}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,c=e.errors,i=e.reset,l=e.watch,s=e.trigger,u=e.formState;Xe(u.submitCount,c);var d=Object(ge.b)(),m=Object(g.f)(),p=Object(g.h)().id,f=Object(r.useState)(null),b=Object(F.a)(f,2),h=b[0],v=b[1],O=Object(r.useState)(!1),j=Object(F.a)(O,2),E=j[0],y=j[1];function x(e,t){return P.apply(this,arguments)}function P(){return(P=Object(S.a)(k.a.mark((function e(t,a){var r,n,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,r=h?V.update(h.id,t):V.create(t),e.next=5,r;case 5:n=e.sent,o=n.data,d.enqueueSnackbar("Categoria salva com sucesso",{variant:"success"}),setTimeout((function(){a?p?m.replace("/categories/".concat(o.data.id,"/edit")):m.push("/categories/".concat(o.data.id,"/edit")):m.push("/categories")})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),d.enqueueSnackbar("N\xe3o foi poss\xedvel salvar a categoria",{variant:"error"});case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t({name:"is_active"})}),[t]),Object(r.useEffect)((function(){function e(){return(e=Object(S.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,V.get(p);case 4:t=e.sent,a=t.data,v(a.data),i(a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),d.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})))).apply(this,arguments)}p&&function(){e.apply(this,arguments)}()}),[]),r.createElement(Qe,{GridItemProps:{xs:12,md:6},onSubmit:a(x)},r.createElement(ne.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t(),disabled:E,error:void 0!==c.name,helperText:c.name&&c.name.message,InputLabelProps:{shrink:!0}}),r.createElement(ne.a,{name:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,disabled:E,InputLabelProps:{shrink:!0}}),r.createElement(qe.a,{disabled:E,control:r.createElement(_e.a,{name:"is_active",color:"primary",onChange:function(){return o("is_active",!n().is_active)},checked:l("is_active")}),label:"Ativo?",labelPlacement:"end"}),r.createElement(Ge,{disabledButtons:E,handleSave:function(){return s().then((function(e){e&&x(n(),null)}))}}))},Je=function(){var e=Object(g.h)().id;return r.createElement(O,{title:e?"Editar categoria":"Criar categoria"},r.createElement(Ke,null))},$e=new U(N,"cast_members"),et={1:"Diretor",2:"Ator"},tt={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},at=Object.values(et),rt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"type",label:"Tipo",width:"4%",options:{customBodyRender:function(e,t,a){return et[e]},filterOptions:{names:at}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,a){return r.createElement("span",null,Object(R.a)(Object(T.a)(e),"dd/MM/yyyy"))}}},{name:"action",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return console.log(t),r.createElement(ie.a,{color:"secondary",component:u.b,to:"/cast_members/".concat(t.rowData[0],"/edit")},r.createElement(ve.a,null))}}}],nt=[15,25,50],ot=function(){var e=Object(ge.b)(),t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(F.a)(a,2),o=n[0],c=n[1],l=Object(r.useState)(!1),s=Object(F.a)(l,2),u=s[0],d=s[1],m=Object(r.useRef)(),p=Ie({columns:rt,debounceTime:300,rowPerPage:15,rowsPerPageOptions:nt,tableRef:m,extraFilter:{createValidationSchema:function(){return Re.e().shape({type:Re.g().nullable().transform((function(e){return e&&at.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(w.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromURL:function(e){return{type:e.get("type")}}}}),f=p.columns,b=p.filterManager,g=p.filterState,h=p.debouncedFilterState,v=p.totalRecords,O=p.setTotalRecords,j=f.findIndex((function(e){return"type"===e.name})),E=f[j],y=g.extraFilter&&g.extraFilter.type;return E.options.filterList=y?[y]:[],Object(r.useEffect)((function(){function a(){return(a=Object(S.a)(k.a.mark((function a(){var r,n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d(!0),a.prev=1,a.next=4,$e.list({queryParams:Object(w.a)({search:b.clearSearchText(g.search),page:g.pagination.page,per_page:g.pagination.per_page,sort:g.order.sort,dir:g.order.dir},h.extraFilter&&h.extraFilter.type&&{type:Object(ee.invert)(et)[h.extraFilter.type]})});case 4:r=a.sent,n=r.data,t.current&&(c(n.data),O(n.meta.total)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.log(a.t0),!$e.isCancelledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e.enqueueSnackbar("N\xe3o foi poss\xedvel buscar os membros de elenco",{variant:"error"});case 15:return a.prev=15,d(!1),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[1,9,15,18]])})))).apply(this,arguments)}return t.current=!0,b.pushHistory(),function(){a.apply(this,arguments)}(),function(){t.current=!1}}),[b.clearSearchText(h.search),h.pagination.page,h.pagination.per_page,h.order,JSON.stringify(h.extraFilter)]),r.createElement(i.a,{theme:fe(rt.length-1)},r.createElement(pe,{title:"",columns:f,data:o,loading:u,ref:m,options:{serverSide:!0,responsive:"standard",searchText:g.search,page:g.pagination.page-1,rowsPerPage:g.pagination.per_page,rowsPerPageOptions:nt,count:v,onFilterChange:function(e,t,a){var r=f.findIndex((function(t){return t.name===e}));b.changeExtraFilter(Object(P.a)({},e,t[r].length?t[r][0]:null))},onRowsDelete:function(e){var t=e.data.map((function(e){return o[e.dataIndex].id}));$e.delete(t)},customToolbar:function(){return r.createElement(xe,{handleClick:function(){return b.resetFilter()}})},onSearchChange:function(e){return b.changeSearch(e)},onChangePage:function(e){return b.changePage(e)},onChangeRowsPerPage:function(e){return b.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return b.changeColumnSort(e,t)}}}))},ct=function(){return r.createElement(O,{title:"Listagem de membros de elencos"},r.createElement(s.a,{dir:"rtl",paddingBottom:2},r.createElement(E.a,{title:"Adicionar membro de elenco",color:"secondary",size:"small",component:u.b,to:"/cast_members/create"},r.createElement(x.a,null))),r.createElement(s.a,null,r.createElement(ot,null)))},it=a(245),lt=a(519),st=a(336),ut=a(566),dt=a(518),mt=Object(d.a)((function(e){return{submit:{margin:e.spacing(1)}}})),pt=Re.e().shape({name:Re.g().label("Nome").required().max(255),type:Re.d().label("Tipo").required()}),ft=function(){var e=Object(Me.useForm)({resolver:Object(Ue.yupResolver)(pt)}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,c=e.errors,i=e.reset,l=e.watch,u=e.formState,d=mt(),m=Object(ge.b)(),p=Object(g.f)(),f=Object(g.h)().id,b=Object(r.useState)(null),h=Object(F.a)(b,2),v=h[0],O=h[1],j=Object(r.useState)(!1),E=Object(F.a)(j,2),y=E[0],x=E[1],P={className:d.submit,color:"secondary",variant:"contained",disabled:y};function C(e,t){return w.apply(this,arguments)}function w(){return(w=Object(S.a)(k.a.mark((function e(t,a){var r,n,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,r=v?$e.update(v.id,t):$e.create(t),e.next=5,r;case 5:n=e.sent,o=n.data,m.enqueueSnackbar("Membro de elenco salvo com sucesso",{variant:"success"}),setTimeout((function(){a?f?p.replace("/cast_members/".concat(o.data.id,"/edit")):p.push("/cast_members/".concat(o.data.id,"/edit")):p.push("/cast_members")})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),m.enqueueSnackbar("N\xe3o foi poss\xedvel salvar o membro de elenco",{variant:"error"});case 15:return e.prev=15,x(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}return Xe(u.submitCount,c),Object(r.useEffect)((function(){function e(){return(e=Object(S.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,$e.get(f);case 4:t=e.sent,a=t.data,O(a.data),i(a.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),m.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:return e.prev=14,x(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})))).apply(this,arguments)}f&&function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){t({name:"type"})}),[t]),r.createElement("form",{onSubmit:a(C)},r.createElement(ne.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,disabled:y,error:void 0!==c.name,helperText:c.name&&c.name.message,InputLabelProps:{shrink:!0}}),r.createElement(it.a,{margin:"normal",disabled:y,error:void 0!==c.type},r.createElement(lt.a,{component:"legend"},"Tipo"),r.createElement(st.a,{name:"type",onChange:function(e){o("type",parseInt(e.target.value))},value:l("type")+""},r.createElement(qe.a,{value:"1",control:r.createElement(ut.a,{color:"primary"}),label:"Diretor"}),r.createElement(qe.a,{value:"2",control:r.createElement(ut.a,{color:"primary"}),label:"Ator"})),c.type&&r.createElement(dt.a,{id:"type-helper-text"},c.type.message)),r.createElement(s.a,{dir:"rtl"},r.createElement(Ve.a,Object.assign({},P,{onClick:function(){return C(n(),null)}}),"Salvar"),r.createElement(Ve.a,Object.assign({},P,{type:"submit"}),"Salvar e continuar editando")))},bt=function(){var e=Object(g.h)().id;return r.createElement(O,{title:e?"Editar membros de elenco":"Criar membros de elenco"},r.createElement(ft,null))},gt=new U(N,"genres"),ht=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"23%",options:{filter:!1}},{name:"is_active",label:"Ativo?",width:"4%",options:{filter:!1,customBodyRender:function(e,t,a){return e?r.createElement(Z,null):r.createElement(K,null)}}},{name:"categories",label:"Categorias",width:"20%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,a){return r.createElement("span",null,Object(R.a)(Object(T.a)(e),"dd/MM/yyyy"))}}},{name:"action",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return r.createElement(ie.a,{color:"secondary",component:u.b,to:"/genres/".concat(t.rowData[0],"/edit")},r.createElement(ve.a,null))}}}],vt=[15,25,50],Ot=function(){var e=Object(ge.b)(),t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(F.a)(a,2),o=n[0],c=n[1],l=Object(r.useState)(!1),s=Object(F.a)(l,2),u=s[0],d=s[1],m=Object(r.useState)(),p=Object(F.a)(m,2),f=(p[0],p[1]),b=Object(r.useRef)(),g=Ie({columns:ht,debounceTime:300,rowPerPage:15,rowsPerPageOptions:vt,tableRef:b,extraFilter:{createValidationSchema:function(){return Re.e().shape({categories:Re.c().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(w.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories")}}}}),h=g.columns,v=g.filterManager,O=g.filterState,j=g.debouncedFilterState,E=g.totalRecords,y=g.setTotalRecords,x=h.findIndex((function(e){return"categories"===e.name})),C=h[x],R=O.extraFilter&&O.extraFilter.categories;return C.options.filterList=R||[],Object(r.useEffect)((function(){var t=!0;return Object(S.a)(k.a.mark((function a(){var r,n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,V.list({queryParams:{all:""}});case 3:r=a.sent,n=r.data,t&&(f(n.data),C.options.filterOptions.names=n.data.map((function(e){return e.name}))),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),e.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))(),function(){t=!1}}),[]),Object(r.useEffect)((function(){function a(){return(a=Object(S.a)(k.a.mark((function a(){var r,n,o,i;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d(!0),a.prev=1,a.next=4,gt.list({queryParams:{search:v.clearSearchText(O.search),page:O.pagination.page,per_page:O.pagination.per_page,sort:O.order.sort,dir:O.order.dir,categories:null===(r=O.extraFilter)||void 0===r||null===(n=r.categories)||void 0===n?void 0:n.join(",")}});case 4:o=a.sent,i=o.data,t.current&&(c(i.data),y(i.meta.total)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.log(a.t0),!gt.isCancelledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e.enqueueSnackbar("N\xe3o foi poss\xedvel buscar os g\xeaneros",{variant:"error"});case 15:return a.prev=15,d(!1),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[1,9,15,18]])})))).apply(this,arguments)}return t.current=!0,v.pushHistory(),function(){a.apply(this,arguments)}(),function(){t.current=!1}}),[v.clearSearchText(j.search),j.pagination.page,j.pagination.per_page,j.order,j.extraFilter]),r.createElement(i.a,{theme:fe(ht.length-1)},r.createElement(pe,{title:"",columns:h,data:o,loading:u,ref:b,options:{serverSide:!0,responsive:"standard",searchText:O.search,page:O.pagination.page-1,rowsPerPage:O.pagination.per_page,rowsPerPageOptions:vt,count:E,onFilterChange:function(e,t,a){var r=h.findIndex((function(t){return t.name===e}));v.changeExtraFilter(Object(P.a)({},e,t[r].length?t[r]:null))},onRowsDelete:function(e){var t=e.data.map((function(e){return o[e.dataIndex].id}));gt.delete(t)},customToolbar:function(){return r.createElement(xe,{handleClick:function(){return v.resetFilter()}})},onSearchChange:function(e){return v.changeSearch(e)},onChangePage:function(e){return v.changePage(e)},onChangeRowsPerPage:function(e){return v.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return v.changeColumnSort(e,t)}}}))},jt=function(){return r.createElement(O,{title:"Listagem de g\xeaneros"},r.createElement(s.a,{dir:"rtl",paddingBottom:2},r.createElement(E.a,{title:"Adicionar g\xeanero",color:"secondary",size:"small",component:u.b,to:"/genres/create"},r.createElement(x.a,null))),r.createElement(s.a,null,r.createElement(Ot,null)))},Et=a(335),yt=Object(d.a)((function(e){return{submit:{margin:e.spacing(1)}}})),xt=Re.e().shape({name:Re.g().label("Nome").required().max(255),categories_id:Re.a().label("Categorias").required()}),Pt=function(){var e=Object(Me.useForm)({resolver:Object(Ue.yupResolver)(xt),defaultValues:{name:"",categories_id:[]}}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,c=e.watch,i=e.errors,l=e.reset,u=e.formState;Xe(u.submitCount,i);var d=yt(),m=Object(ge.b)().enqueueSnackbar,p=Object(g.f)(),f=Object(g.h)().id,b=Object(r.useState)(null),h=Object(F.a)(b,2),v=h[0],O=h[1],j=Object(r.useState)([]),E=Object(F.a)(j,2),y=E[0],x=E[1],P=Object(r.useState)(!1),C=Object(F.a)(P,2),R=C[0],T=C[1],I={className:d.submit,color:"secondary",variant:"contained",disabled:R};function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(S.a)(k.a.mark((function e(t,a){var r,n,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,r=v?gt.update(v.id,t):gt.create(t),e.next=5,r;case 5:n=e.sent,o=n.data,m("G\xeanero salvo com sucesso",{variant:"success"}),setTimeout((function(){a?f?p.replace("/genres/".concat(o.data.id,"/edit")):p.push("/genres/".concat(o.data.id,"/edit")):p.push("/genres")})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),m("N\xe3o foi poss\xedvel salvar o g\xeanero",{variant:"error"});case 15:return e.prev=15,T(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t({name:"categories_id"})}),[t]),Object(r.useEffect)((function(){function e(){return(e=Object(S.a)(k.a.mark((function e(){var t,a,r,n,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=[V.list({queryParams:{all:""}})],f&&t.push(gt.get(f)),e.prev=3,e.next=6,Promise.all(t);case 6:a=e.sent,r=Object(F.a)(a,2),n=r[0],o=r[1],x(n.data.data),f&&(O(o.data.data),l(Object(w.a)(Object(w.a)({},o.data.data),{},{categories_id:o.data.data.categories.map((function(e){return e.id}))}))),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0),m("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 18:return e.prev=18,T(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,14,18,21]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f,l,m]),r.createElement("form",{onSubmit:a(A)},r.createElement(ne.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,disabled:R,error:void 0!==i.name,helperText:i.name&&i.name.message,InputLabelProps:{shrink:!0}}),r.createElement(ne.a,{select:!0,name:"categories_id",value:c("categories_id"),label:"Categories",margin:"normal",variant:"outlined",fullWidth:!0,onChange:function(e){return o("categories_id",e.target.value)},SelectProps:{multiple:!0},disabled:R,error:void 0!==i.categories_id,InputLabelProps:{shrink:!0}},r.createElement(Et.a,{value:"",disabled:!0},r.createElement("em",null,"Selecione categorias")),y.map((function(e,t){return r.createElement(Et.a,{key:t,value:e.id},e.name)}))),r.createElement(s.a,{dir:"rtl"},r.createElement(Ve.a,Object.assign({},I,{onClick:function(){return A(n(),null)}}),"Salvar"),r.createElement(Ve.a,Object.assign({},I,{type:"submit"}),"Salvar e continuar editando")))},Ct=function(){var e=Object(g.h)().id;return r.createElement(O,{title:e?"Editar g\xeanero":"Criar g\xeanero"},r.createElement(Pt,null))},kt=new U(N,"videos"),St=a(546),wt=a(551),Ft=a(549),Rt=a(550),Tt=a(548),It=function(e){var t=e.open,a=e.handleClose;return r.createElement(St.a,{open:t,onClose:function(){return a(!1)}},r.createElement(wt.a,null,"Exclus\xe3o de registros"),r.createElement(Ft.a,null,r.createElement(Rt.a,null,"Deseja realmente excluir este(s) registro(s)?")),r.createElement(Tt.a,null,r.createElement(Ve.a,{onClick:function(){return a(!1)},color:"primary"},"Cancelar"),r.createElement(Ve.a,{onClick:function(){return a(!0)},color:"primary",autoFocus:!0},"Excluir")))},At=function(){var e=Object(r.useState)(!1),t=Object(F.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({data:[]}),c=Object(F.a)(o,2),i=c[0],l=c[1];return Object(r.useEffect)((function(){i.data.length&&n(!0)}),[i]),{openDeleteDialog:a,setOpenDeleteDialog:n,rowsToDelete:i,setRowsToDelete:l}},Dt=Object(r.createContext)(!1),Nt=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"title",label:"T\xedtulo",width:"20%",options:{filter:!1}},{name:"genres",label:"G\xeaneros",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"categories",label:"Categorias",width:"12%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,a){return r.createElement("span",null,Object(R.a)(Object(T.a)(e),"dd/MM/yyyy"))}}},{name:"action",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t){return r.createElement(ie.a,{color:"secondary",component:u.b,to:"/videos/".concat(t.rowData[0],"/edit")},r.createElement(ve.a,null))}}}],Bt=[15,25,50],Lt=function(){var e=Object(ge.b)(),t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(F.a)(a,2),o=n[0],c=n[1],l=Object(r.useContext)(Dt),s=At(),u=s.openDeleteDialog,d=s.setOpenDeleteDialog,m=s.rowsToDelete,p=s.setRowsToDelete,f=Object(r.useRef)(),b=Ie({columns:Nt,debounceTime:300,rowPerPage:15,rowsPerPageOptions:Bt,tableRef:f}),g=b.columns,h=b.filterManager,v=b.filterState,O=b.debouncedFilterState,j=b.totalRecords,E=b.setTotalRecords;function y(){return x.apply(this,arguments)}function x(){return(x=Object(S.a)(k.a.mark((function a(){var r,n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,kt.list({queryParams:{search:h.clearSearchText(v.search),page:v.pagination.page,per_page:v.pagination.per_page,sort:v.order.sort,dir:v.order.dir}});case 3:r=a.sent,n=r.data,t.current&&(c(n.data),E(n.meta.total),u&&d(!1)),a.next=13;break;case 8:if(a.prev=8,a.t0=a.catch(0),!kt.isCancelledRequest(a.t0)){a.next=12;break}return a.abrupt("return");case 12:e.enqueueSnackbar("N\xe3o foi poss\xedvel buscar os v\xeddeos",{variant:"error"});case 13:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){return t.current=!0,h.pushHistory(),y(),function(){t.current=!1}}),[h.clearSearchText(O.search),O.pagination.page,O.pagination.per_page,O.order]),r.createElement(i.a,{theme:fe(Nt.length-1)},r.createElement(It,{open:u,handleClose:function(t){if(t){var a=m.data.map((function(e){return o[e.index].id})).join(",");kt.deleteCollection({ids:a}).then((function(t){if(e.enqueueSnackbar("Registros exclu\xeddos com sucesso",{variant:"success"}),m.data.length===v.pagination.per_page&&v.pagination.page>1){var a=v.pagination.page-2;h.changePage(a)}else y()})).catch((function(t){e.enqueueSnackbar("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else d(!1)}}),r.createElement(pe,{title:"",columns:g,data:o,loading:l,ref:f,options:{serverSide:!0,responsive:"standard",searchText:v.search,page:v.pagination.page-1,rowsPerPage:v.pagination.per_page,rowsPerPageOptions:Bt,count:j,onRowsDelete:function(e){return p(e),!1},customToolbar:function(){return r.createElement(xe,{handleClick:function(){return h.resetFilter()}})},onSearchChange:function(e){return h.changeSearch(e)},onChangePage:function(e){return h.changePage(e)},onChangeRowsPerPage:function(e){return h.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return h.changeColumnSort(e,t)}}}))},qt=function(){return r.createElement(O,{title:"Listagem de v\xeddeos"},r.createElement(s.a,{dir:"rtl",paddingBottom:2},r.createElement(E.a,{title:"Adicionar v\xeddeo",color:"secondary",size:"small",component:u.b,to:"/videos/create"},r.createElement(x.a,null))),r.createElement(s.a,null,r.createElement(Lt,null)))},_t=a(33),Mt=a(541),Ut=a(543),Vt=Object(d.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),zt={L:"#398549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#D00003",18:"#000000"},Gt=function(e){var t=Vt();return r.createElement(f.a,{className:t.root,style:{backgroundColor:zt[e.rating]}},e.rating)},Wt=[{value:"L",control:r.createElement(ut.a,{color:"primary"}),label:r.createElement(Gt,{rating:"L"}),labelPlacement:"top"},{value:"10",control:r.createElement(ut.a,{color:"primary"}),label:r.createElement(Gt,{rating:"10"}),labelPlacement:"top"},{value:"12",control:r.createElement(ut.a,{color:"primary"}),label:r.createElement(Gt,{rating:"12"}),labelPlacement:"top"},{value:"14",control:r.createElement(ut.a,{color:"primary"}),label:r.createElement(Gt,{rating:"14"}),labelPlacement:"top"},{value:"16",control:r.createElement(ut.a,{color:"primary"}),label:r.createElement(Gt,{rating:"16"}),labelPlacement:"top"},{value:"18",control:r.createElement(ut.a,{color:"primary"}),label:r.createElement(Gt,{rating:"18"}),labelPlacement:"top"}],Ht=function(e){var t=e.value,a=e.setValue,n=e.disabled,o=e.error;return r.createElement(it.a,Object.assign({disabled:!0===n,error:void 0!==o},e.FormControlProps),r.createElement(lt.a,{component:"legend"},"Classifica\xe7\xe3o"),r.createElement(s.a,{paddingTop:1},r.createElement(st.a,{name:"rating",onChange:function(e){a(e.target.value)},value:t,row:!0},Wt.map((function(e,t){return r.createElement(qe.a,Object.assign({key:t},e))})))),o&&r.createElement(dt.a,null,o.message))},Yt=a(559),Qt=r.forwardRef((function(e,t){var a=Object(r.useRef)(),n=Object(r.useState)(""),o=Object(F.a)(n,2),c=o[0],i=o[1],l=Object(w.a)(Object(w.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(w.a)(Object(w.a)({},e.TextFieldProps&&e.TextFieldProps.InputProps&&Object(w.a)({},e.TextFieldProps.InputProps)),{},{readOnly:!0,endAdornment:r.createElement(Yt.a,{position:"end"},e.ButtonFile)}),value:c}),s=Object(w.a)(Object(w.a)({},e.InputFileProps),{},{hidden:!0,ref:a,onChange:function(t){var a=t.target.files;a.length&&i(Array.from(a).map((function(e){return e.name})).join(", ")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return i("")},openWindow:function(){return a.current.click()}}})),r.createElement(r.Fragment,null,r.createElement("input",Object.assign({type:"file"},s)),r.createElement(ne.a,l))})),Xt=a(381),Zt=a.n(Xt),Kt=r.forwardRef((function(e,t){var a=Object(r.useRef)(),n=e.accept,o=e.label,c=e.setValue,i=e.disabled,l=e.error;return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return a.current.clear()}}})),r.createElement(it.a,Object.assign({disabled:!0===i,error:void 0!==l,fullWidth:!0,margin:"normal"},e.FormControlProps),r.createElement(Qt,{ref:a,TextFieldProps:{label:o,InputLabelProps:{shrink:!0},style:{backgroundColor:"#ffffff"}},InputFileProps:{accept:n,onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&c(e.target.files[0])}},ButtonFile:r.createElement(Ve.a,{endIcon:r.createElement(Zt.a,null),variant:"contained",color:"primary",onClick:function(){return a.current.openWindow()}},"Adicionar")}),l&&r.createElement(dt.a,null,l.message))})),Jt=a(544),$t=a(565),ea=a(382),ta=r.forwardRef((function(e,t){var a=e.AutocompleteProps,n=e.debounceTime,o=void 0===n?300:n,c=e.fetchOptions,i=a,l=i.freeSolo,s=i.onClose,u=i.onOpen,d=i.onInputChange,m=Object(r.useState)(!1),p=Object(F.a)(m,2),f=p[0],b=p[1],g=Object(r.useState)(""),h=Object(F.a)(g,2),v=h[0],O=h[1],j=Object(ea.useDebounce)(v,o),E=Object(F.a)(j,1)[0],y=Object(r.useState)(!1),x=Object(F.a)(y,2),P=x[0],C=x[1],R=Object(r.useState)([]),T=Object(F.a)(R,2),I=T[0],A=T[1],D=Object(w.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(w.a)({},e.TextFieldProps)),N=Object(w.a)(Object(w.a)({loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado"},e.AutocompleteProps&&Object(w.a)({},e.AutocompleteProps)),{},{open:f,options:I,loading:P,inputValue:v,onOpen:function(){b(!0),u&&u()},onClose:function(){b(!1),s&&s()},onInputChange:function(e,t){O(t),d&&d()},renderInput:function(e){return r.createElement(ne.a,Object.assign({},e,D,{InputProps:Object(w.a)(Object(w.a)({},e.InputProps),{},{endAdornment:r.createElement(r.Fragment,null,P&&r.createElement(Jt.a,{color:"inherit",size:20}),e.InputProps.endAdornment)})}))}});return Object(r.useEffect)((function(){f||l||A([])}),[f,l]),Object(r.useEffect)((function(){if(f&&(""!==E||!l)){var e=!0;return Object(S.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(!0),t.prev=1,t.next=4,c(E);case 4:a=t.sent,e&&A(a);case 6:return t.prev=6,C(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))(),function(){e=!1}}}),[l,E,f,c]),Object(r.useImperativeHandle)(t,(function(){return{clear:function(){O(""),A([])}}})),r.createElement($t.a,N)})),aa=Object(d.a)((function(e){return Object(m.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),ra=function(e){var t=aa();return r.createElement(He.a,Object.assign({container:!0,wrap:"wrap",className:t.root},e),e.children)},na=a(99),oa=a.n(na),ca=function(e){var t=e.onDelete,a=e.children,n=Object(We.a)(e,["onDelete","children"]);return r.createElement(He.a,Object.assign({item:!0},n),r.createElement(He.a,{container:!0,alignItems:"center",spacing:3},r.createElement(He.a,{item:!0,xs:1},r.createElement(ie.a,{size:"small",color:"inherit",onClick:t},r.createElement(oa.a,null))),r.createElement(He.a,{item:!0,xs:10,md:11},a)))},ia=function(e,t){var a=Object(ge.b)();return{addItem:function(r){r&&""!==r&&(e.find((function(e){return e.id===r.id}))?a.enqueueSnackbar("Item j\xe1 adicionado",{variant:"info"}):(e.unshift(r),t(e)))},removeItem:function(a){var r=e.find((function(e){return e.id===a.id}));-1!==r&&(e.splice(r,1),t(e))}}},la=function(){var e=Object(ge.b)().enqueueSnackbar;return Object(r.useCallback)(function(){var t=Object(S.a)(k.a.mark((function t(a){var r,n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a;case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),D.a.isCancel(t.t0)||e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"}),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])};function sa(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var ua,da=r.forwardRef((function(e,t){var a=e.genres,n=e.setGenres,o=e.categories,c=e.setCategories,i=e.error,l=e.disabled,s=ia(a,n),u=s.addItem,d=s.removeItem,m=ia(o,c).removeItem,p=la(),b=Object(r.useRef)();return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return b.current.clear()}}})),r.createElement(r.Fragment,null,r.createElement(ta,{ref:b,fetchOptions:function(e){return p(gt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))},AutocompleteProps:{freeSolo:!0,getOptionLabel:function(e){return e.name},onChange:function(e,t){return u(t)}},TextFieldProps:{label:"G\xeaneros",error:void 0!==i}}),r.createElement(dt.a,{style:{height:"24px"}},"Escolha os g\xeaneros do v\xeddeos"),r.createElement(it.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==i,disabled:!0===l},e.FormControlProps),r.createElement(ra,null,a.map((function(e,t){return r.createElement(ca,{key:t,onDelete:function(){o.filter((function(t){return 1===sa(a,t).length&&a[0].id===e.id})).forEach((function(e){return m(e)})),d(e)},xs:12},r.createElement(f.a,{noWrap:!0},e.name))}))),i&&r.createElement(dt.a,null,i.message)))})),ma=a(114),pa=Object(d.a)((function(e){return{genresSubtitle:{color:ma.a[800],fontSize:"0.8rem"}}})),fa=r.forwardRef((function(e,t){var a=e.categories,n=e.setCategories,o=e.genres,c=e.error,i=e.disabled,l=pa(),s=la(),u=ia(a,n),d=u.addItem,m=u.removeItem,p=Object(r.useRef)();return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return p.current.clear()}}})),r.createElement(r.Fragment,null,r.createElement(ta,{ref:p,fetchOptions:function(e){return s(V.list({queryParams:{genres:o.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data}))},AutocompleteProps:{clearOnEscape:!0,freeSolo:!1,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return d(t)},disabled:!0===i||!o.length},TextFieldProps:{label:"Categorias",error:void 0!==c}}),r.createElement(dt.a,{style:{height:"24px"}},"Escolha pelo menos uma categoria de cada g\xeanero"),r.createElement(it.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==c,disabled:!0===i},e.FormControlProps),r.createElement(ra,null,a.map((function(e,t){var a=sa(o,e).map((function(e){return e.name})).join(",");return r.createElement(ca,{key:t,onDelete:function(){return m(e)},xs:12},r.createElement(f.a,{noWrap:!0},e.name),r.createElement(f.a,{noWrap:!0,className:l.genresSubtitle},"G\xeaneros: ",a))}))),c&&r.createElement(dt.a,null,c.message)))})),ba=r.forwardRef((function(e,t){var a=e.castMembers,n=e.setCastMembers,o=e.error,c=e.disabled,i=la(),l=ia(a,n),s=l.addItem,u=l.removeItem,d=Object(r.useRef)(),m=Object(r.useCallback)((function(e){return i($e.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[i]);return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return d.current.clear()}}})),r.createElement(r.Fragment,null,r.createElement(ta,{ref:d,fetchOptions:m,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return s(t)},disabled:c},TextFieldProps:{label:"Elenco",error:void 0!==o}}),r.createElement(it.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==o},e.FormControlProps),r.createElement(ra,null,a.map((function(e,t){return r.createElement(ca,{key:t,onDelete:function(){return u(e)},xs:6},r.createElement(f.a,{noWrap:!0},e.name))}))),o&&r.createElement(dt.a,null,o.message)))})),ga=a(63),ha=a(150),va=a.n(ha),Oa=Object(Pe.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),ja=Oa.Types,Ea=Oa.Creators,ya={uploads:[]},xa=Object(Pe.createReducer)(ya,(ua={},Object(P.a)(ua,ja.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var a=ka(e,t.payload.video.id);if(-1!==a&&e.uploads[a].progress<1)return e;var r=-1===a?e.uploads:va()(e.uploads,{$splice:[[a,1]]});return{uploads:[].concat(Object(_t.a)(r),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(P.a)(ua,ja.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0,a=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));return a.length===e.uploads.length?e:{uploads:a}})),Object(P.a)(ua,ja.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0,a=t.payload.video.id,r=t.payload.fileField,n=Pa(e,a,r),o=n.indexUpload,c=n.indexFile;if("undefined"===typeof o)return e;var i=e.uploads[o],l=i.files[c];if(l.progress===t.payload.progress)return e;var s=va()(e.uploads,Object(P.a)({},o,{$apply:function(e){var a=va()(e.files,Object(P.a)({},c,{$set:Object(w.a)(Object(w.a)({},l),{},{progress:t.payload.progress})})),r=Ca(a);return Object(w.a)(Object(w.a)({},e),{},{progress:r,files:a})}}));return{uploads:s}})),Object(P.a)(ua,ja.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0,a=t.payload.video.id,r=t.payload.fileField,n=Pa(e,a,r),o=n.indexUpload,c=n.indexFile;if("undefined"===typeof o)return e;var i=e.uploads[o],l=i.files[c],s=va()(e.uploads,Object(P.a)({},o,{files:Object(P.a)({},c,{$set:Object(w.a)(Object(w.a)({},l),{},{error:t.payload.error,progress:1})})}));return{uploads:s}})),ua));function Pa(e,t,a){var r=ka(e,t);if(-1===r)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[r].files,a);return-1===n?{}:{indexUpload:r,indexFile:n}}function Ca(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function ka(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}var Sa=a(542),wa=a(388),Fa=a(520),Ra=a(142),Ta=a.n(Ra),Ia=a(208),Aa=a.n(Ia),Da=a(256),Na=a.n(Da),Ba=a(207),La=a.n(Ba),qa=a(521),_a=a(562),Ma=a(334),Ua=a(552),Va=a(389);function za(e){return 1===e.progress||Ga(e)}function Ga(e){return Wa(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function Wa(e){return"video"in e}var Ha=Object(d.a)((function(e){return{progressContainer:{position:"relative"},progress:{position:"absolute",left:0},progressBackground:{color:ma.a[300]}}})),Ya=function(e){var t=e.uploadOrFile,a=e.size,n=Ha(),o=Ga(t);return r.createElement(Va.a,{in:t.progress<1,timeout:{enter:100,exit:2e3}},r.createElement("div",{className:n.progressContainer},r.createElement(Jt.a,{variant:"static",value:100,className:n.progressBackground,size:a}),r.createElement(Jt.a,{variant:"static",value:o?0:100*t.progress,className:n.progress,size:a})))},Qa=a(563),Xa=a(205),Za=a.n(Xa),Ka=a(206),Ja=a.n(Ka),$a=Object(d.a)((function(e){return{successIcon:{color:e.palette.success.main},erroIcon:{color:e.palette.error.main},deleteIcon:{color:e.palette.primary.main}}})),er=function(e){var t=e.upload,a=e.hover,n=$a(),o=Object(ga.b)(),c=Ga(t),i=Object(r.useState)(!1),l=Object(F.a)(i,2),s=l[0],u=l[1],d=Object(Te.a)(s,2500),m=Object(F.a)(d,1)[0];return Object(r.useEffect)((function(){u(za(t))}),[t]),m?r.createElement(Va.a,{in:s,timeout:{enter:1e3}},r.createElement(Qa.a,null,r.createElement("span",{hidden:a},1===t.progress&&!c&&r.createElement(ie.a,{className:n.successIcon,edge:"end"},r.createElement(Za.a,null)),c&&r.createElement(ie.a,{className:n.erroIcon,edge:"end"},r.createElement(Ja.a,null))),r.createElement("span",{hidden:!a},r.createElement(ie.a,{color:"primary",edge:"end",onClick:function(){return o(Ea.removeUpload({id:t.video.id}))}},r.createElement(oa.a,null))))):null},tr=Object(d.a)((function(e){return{movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),ar=function(e){var t=e.upload,a=tr(),n=Ga(t),o=Object(r.useState)(!1),c=Object(F.a)(o,2),i=c[0],l=c[1];return r.createElement(r.Fragment,null,r.createElement(Oe.a,{disableFocusListener:!0,disableTouchListener:!0,title:n?"N\xe3o foi poss\xedvel realizar o upload, clique para mais detalhes":"",placement:"left"},r.createElement(qa.a,{className:a.listItem,button:!0,onMouseOver:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},r.createElement(_a.a,{className:a.movieIcon},r.createElement(La.a,null)),r.createElement(Ma.a,{className:a.listItemText,primary:r.createElement(f.a,{noWrap:!0,variant:"subtitle2",color:"inherit"},t.video.title)}),r.createElement(Ya,{size:30,uploadOrFile:t}),r.createElement(er,{upload:t,hover:i}))),r.createElement(Ua.a,{component:"li"}))},rr=Object(d.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),nr=r.forwardRef((function(e,t){var a=e.id,n=Object(ge.b)().closeSnackbar,o=rr(),c=Object(r.useState)(!0),i=Object(F.a)(c,2),l=i[0],s=i[1],u=Object(ga.c)((function(e){return e.upload.uploads})),d=function(e){return e.filter((function(e){return!za(e)})).length}(u);return r.createElement(Mt.a,{ref:t,className:o.card},r.createElement(Sa.a,{classes:{root:o.cardActionRoot}},r.createElement(f.a,{variant:"subtitle2",className:o.title},"Fazendo upload de ",d," v\xeddeo(s)"),r.createElement("div",{className:o.icons},r.createElement(ie.a,{color:"inherit",onClick:function(){return s(!l)},className:Na()(o.expand,Object(P.a)({},Na.a.expandOpen,!l))},r.createElement(Aa.a,null)),r.createElement(ie.a,{color:"inherit",onClick:function(){return n(a)}},r.createElement(Ta.a,null)))),r.createElement(wa.a,{in:l},r.createElement(Fa.a,{className:o.list},u.map((function(e,t){return r.createElement(ar,{key:t,upload:e})})))))})),or=Object(d.a)((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#fsfsfs",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#fsfsfs"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),cr=Re.e().shape({title:Re.g().label("T\xedtulo").required().max(255),description:Re.g().label("Sinopse").required(),year_launched:Re.d().label("Ano de lanc\xe7amento").required().min(1),duration:Re.d().label("Dura\xe7\xe3o").required().min(1),rating:Re.g().label("Classifica\xe7\xe3o").required(),cast_members:Re.a().label("Elenco").required(),categories:Re.a().label("Categorias").required(),genres:Re.a().label("G\xeaneros").required().test({message:"Cada g\xeanero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}})}),ir=Object.keys(tt),lr=function(){var e=Object(Me.useForm)({resolver:Object(Ue.yupResolver)(cr),defaultValues:{title:"",description:"",year_launched:"",duration:"",rating:"",opened:!1,thumb_file:"",banner_file:"",trailer_file:"",video_file:"",genres:[],categories:[],cast_members:[]}}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,c=e.errors,i=e.reset,l=e.watch,s=e.trigger,u=e.formState;Xe(u.submitCount,c);var d=or(),m=Object(ge.b)().enqueueSnackbar,p=Object(g.f)(),b=Object(g.h)().id,h=Object(r.useState)(null),v=Object(F.a)(h,2),O=v[0],j=v[1],E=Object(r.useContext)(Dt),y=Object(te.a)(),x=Object(ae.a)(y.breakpoints.up("md")),P=Object(r.useRef)(),C=Object(r.useRef)(),R=Object(r.useRef)(),T=Object(r.useRef)(Object(ee.zipObject)(ir,ir.map((function(){return Object(r.createRef)()})))),I=Object(ga.b)(),A=Object(r.useCallback)((function(e){Object.keys(T.current).forEach((function(e){return T.current[e].current.clear()})),P.current.clear(),C.current.clear(),R.current.clear(),i(e)}),[P,C,R,T,i]);function D(e,t){return N.apply(this,arguments)}function N(){return(N=Object(S.a)(k.a.mark((function e(t,a){var r,n,o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object(ee.omit)(t,[].concat(Object(_t.a)(ir),["cast_members","genres","categories"]))).cast_members_id=t.cast_members.map((function(e){return e.id})),r.categories_id=t.categories.map((function(e){return e.id})),r.genres_id=t.genres.map((function(e){return e.id})),e.prev=4,n=O?kt.update(O.id,Object(w.a)({},r)):kt.create(r),e.next=8,n;case 8:o=e.sent,c=o.data,m("V\xeddeo salvo com sucesso",{variant:"success"}),B(c.data),b&&A(O),setTimeout((function(){a?b?p.replace("/videos/".concat(c.data.id,"/edit")):p.push("/videos/".concat(c.data.id,"/edit")):p.push("/videos")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0),m("N\xe3o foi poss\xedvel salvar o v\xeddeo",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function B(e){var t=ir.filter((function(e){return n()[e]})).map((function(e){return{fileField:e,file:n()[e]}}));t.length&&(I(Ea.addUpload({video:e,files:t})),m("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var a=e;return r.createElement(nr,{id:a})}}))}return Object(r.useEffect)((function(){t({name:"thumb_file"}),t({name:"banner_file"}),t({name:"trailer_file"}),t({name:"video_file"}),t({name:"rating"}),t({name:"opened"}),t({name:"genres"}),t({name:"categories"}),t({name:"cast_members"})}),[t]),Object(r.useEffect)((function(){if(b){var e=!0;return Object(S.a)(k.a.mark((function t(){var a,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,kt.get(b);case 3:a=t.sent,r=a.data,e&&(j(r.data),A(r.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),m("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}}),[b,A,m]),r.createElement(Qe,{GridItemProps:{xs:12},onSubmit:a(D)},r.createElement(He.a,{container:!0,spacing:5},r.createElement(He.a,{item:!0,xs:12,md:6},r.createElement(ne.a,{name:"title",label:"T\xedtulo",fullWidth:!0,variant:"outlined",inputRef:t,disabled:E,error:void 0!==c.title,helperText:c.title&&c.title.message,InputLabelProps:{shrink:!0}}),r.createElement(ne.a,{name:"description",label:"Sinopse",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,disabled:E,InputLabelProps:{shrink:!0},error:void 0!==c.description,helperText:c.description&&c.description.message}),r.createElement(He.a,{container:!0,spacing:1},r.createElement(He.a,{item:!0,xs:6},r.createElement(ne.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,disabled:E,InputLabelProps:{shrink:!0},error:void 0!==c.year_launched,helperText:c.year_launched&&c.year_launched.message})),r.createElement(He.a,{item:!0,xs:6},r.createElement(ne.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,disabled:E,InputLabelProps:{shrink:!0},error:void 0!==c.duration,helperText:c.duration&&c.duration.message}))),r.createElement(ba,{ref:P,castMembers:l("cast_members"),setCastMembers:function(e){return o("cast_members",e)},error:c.cast_members,disabled:E}),r.createElement(He.a,{container:!0,spacing:2},r.createElement(He.a,{item:!0,xs:12,md:6},r.createElement(da,{ref:C,genres:l("genres"),setGenres:function(e){return o("genres",e)},categories:l("categories"),setCategories:function(e){return o("categories",e)},error:c.genres,disabled:E})),r.createElement(He.a,{item:!0,xs:12,md:6},r.createElement(fa,{ref:R,categories:l("categories"),setCategories:function(e){return o("categories",e)},genres:l("genres"),error:c.categories,disabled:E})))),r.createElement(He.a,{item:!0,xs:12,md:6},r.createElement(Ht,{value:l("rating"),setValue:function(e){return o("rating",e)},error:c.rating,disabled:E,FormControlProps:{margin:x?"none":"normal"}}),r.createElement("br",null),r.createElement(Mt.a,{className:d.cardUpload},r.createElement(Ut.a,null,r.createElement(f.a,{color:"primary",variant:"h6"},"Imagens"),r.createElement(Kt,{ref:T.current.thumb_file,accept:"image/*",label:"Thumb",setValue:function(e){return o("thumb_file",e)}}),r.createElement(Kt,{ref:T.current.banner_file,accept:"image/*",label:"Banner",setValue:function(e){return o("banner_file",e)}}))),r.createElement(Mt.a,{className:d.cardUpload},r.createElement(Ut.a,null,r.createElement(f.a,{color:"primary",variant:"h6"},"V\xeddeos"),r.createElement(Kt,{ref:T.current.trailer_file,accept:"video/mp4",label:"Trailer",setValue:function(e){return o("trailer_file",e)}}),r.createElement(Kt,{ref:T.current.video_file,accept:"video/mp4",label:"Principal",setValue:function(e){return o("video_file",e)}}))),r.createElement(Mt.a,{className:d.cardOpened},r.createElement(Ut.a,{className:d.cardContentOpened},r.createElement(qe.a,{disabled:E,control:r.createElement(_e.a,{name:"opened",color:"primary",onChange:function(){return o("opened",!n().opened)},checked:l("opened")}),label:r.createElement(f.a,{color:"primary",variant:"subtitle2"},"Quero que este conte\xfado apare\xe7a na sele\xe7\xe3o lan\xe7amentos"),labelPlacement:"end"}))))),r.createElement(Ge,{disabledButtons:E,handleSave:function(){return s().then((function(e){e&&D(n(),null)}))}}))},sr=function(){var e=Object(g.h)().id;return r.createElement(O,{title:e?"Editar v\xeddeo":"Criar v\xeddeo"},r.createElement(lr,null))},ur=a(553),dr=a(555),mr=a(554),pr=(a(383),Object(d.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},erroIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}))),fr=function(e){var t,a=e.uploadOrFile,n=pr(),o=Object(ga.b)(),c=Object(r.useState)(!1),i=Object(F.a)(c,2),l=i[0],s=i[1],d=Object(Te.a)(l,2500),m=Object(F.a)(d,1)[0],p=Ga(a),f=null===(t=a.video)||void 0===t?void 0:t.id,b=Wa(a);return Object(r.useEffect)((function(){s(za(a))}),[a]),m?r.createElement(Va.a,{in:l,timeout:{enter:1e3}},r.createElement(r.Fragment,null,1===a.progress&&!p&&r.createElement(Za.a,{className:n.successIcon}),p&&r.createElement(Ja.a,{className:n.erroIcon}),b&&r.createElement(r.Fragment,null,r.createElement(Ua.a,{className:n.divider,orientation:"vertical"}),r.createElement(ie.a,{onClick:function(){return o(Ea.removeUpload({id:f}))}},r.createElement(oa.a,{color:"primary"})),r.createElement(ie.a,{component:u.b,to:"/videos/".concat(f,"/edit")},r.createElement(ve.a,{color:"primary"}))))):null},br=Object(d.a)((function(e){return{gridTitle:{display:"flex",color:"#999999"},icon:{color:e.palette.error.main,minWidth:"40px"}}})),gr=function(e){var t=e.uploadOrFile,a=br();return r.createElement(qa.a,null,r.createElement(He.a,{container:!0,alignItems:"center"},r.createElement(He.a,{className:a.gridTitle,item:!0,xs:12,md:9},r.createElement(La.a,{className:a.icon}),r.createElement(f.a,{color:"inherit"},e.children)),r.createElement(He.a,{item:!0,xs:12,md:3},r.createElement(He.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end"},r.createElement(Ya,{size:48,uploadOrFile:t}),r.createElement(fr,{uploadOrFile:t})))))},hr=Object(d.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),vr=[{name:"dashboard",label:"Dashboard",path:"/",component:j,exact:!0},{name:"categories.list",label:"Listar categorias",path:"/categories",component:Le,exact:!0},{name:"categories.create",label:"Criar categoria",path:"/categories/create",component:Je,exact:!0},{name:"categories.edit",label:"Editar categoria",path:"/categories/:id/edit",component:Je,exact:!0},{name:"cast_members.list",label:"Listar membros de elencos",path:"/cast_members",component:ct,exact:!0},{name:"cast_members.create",label:"Criar membros de elenco",path:"/cast_members/create",component:bt,exact:!0},{name:"cast_members.edit",label:"Editar membros de elenco",path:"/cast_members/:id/edit",component:bt,exact:!0},{name:"genres.list",label:"Listar g\xeaneros",path:"/genres",component:jt,exact:!0},{name:"genres.create",label:"Criar g\xeaneros",path:"/genres/create",component:Ct,exact:!0},{name:"genres.edit",label:"Editar g\xeaneros",path:"/genres/:id/edit",component:Ct,exact:!0},{name:"videos.list",label:"Listar v\xeddeos",path:"/videos",component:qt,exact:!0},{name:"videos.create",label:"Criar v\xeddeos",path:"/videos/create",component:sr,exact:!0},{name:"videos.edit",label:"Editar v\xeddeos",path:"/videos/:id/edit",component:sr,exact:!0},{name:"uploads",label:"Uploads",path:"/uploads",component:function(){var e=hr(),t=Object(ga.c)((function(e){return e.upload.uploads}));return r.createElement(O,{title:"Uploads"},t.map((function(t,a){return r.createElement(Mt.a,{elevation:5,key:a},r.createElement(Ut.a,null,r.createElement(gr,{uploadOrFile:t},t.video.title),r.createElement(ur.a,{style:{margin:0}},r.createElement(dr.a,{className:e.panelSummary,expandIcon:r.createElement(Aa.a,{className:e.expandedIcon})},r.createElement(f.a,null,"Ver detalhes")),r.createElement(mr.a,{style:{padding:"0px"}},r.createElement(He.a,{item:!0,xs:12},r.createElement(Fa.a,{dense:!0,style:{padding:"0px"}},t.files.map((function(e,t){return r.createElement(r.Fragment,{key:t},r.createElement(Ua.a,null),r.createElement(gr,{uploadOrFile:e},"".concat(tt[e.fileField]," - ").concat(e.filename)))}))))))))})))},exact:!0}],Or=a(384),jr=a.n(Or),Er={};vr.forEach((function(e){return Er[e.path]=e.label}));var yr=Object(d.a)((function(e){return Object(m.a)({linkRouter:{color:e.palette.secondary.main,"&:focus, &:actice":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),xr=function(e){return n.a.createElement(p.a,Object.assign({},e,{component:u.b}))};function Pr(){var e=yr();return n.a.createElement(h.a,null,n.a.createElement(s.a,{paddingTop:2,paddingBottom:1},n.a.createElement(g.a,null,(function(t){return function(t){var a=t.pathname.split("/").filter((function(e){return e}));return a.unshift("/"),n.a.createElement(b.a,{"aria-label":"breadcrumb"},a.map((function(t,r){var o=r===a.length-1,c="".concat(a.slice(0,r+1).join("/").replace("//","/")),i=Object.keys(Er).find((function(e){return new jr.a(e).match(c)}));return void 0!==i&&(o?n.a.createElement(f.a,{color:"textPrimary",key:c},Er[i]):n.a.createElement(xr,{color:"inherit",to:c,key:c,className:e.linkRouter},Er[i]))})))}(t.location)}))))}var Cr=function(e){var t=Object(r.useState)(!1),a=Object(F.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(0),i=Object(F.a)(c,2),l=i[0],s=i[1];return Object(r.useMemo)((function(){var e=!0,t=function(e,t){var a,r=[],n=Object(I.a)(B);try{for(n.s();!(a=n.n()).done;){var o=a.value.interceptors.request.use(e,t);r.push(o)}}catch(c){n.e(c)}finally{n.f()}return r}((function(t){return e&&!t.headers.hasOwnProperty("x-ignore-loading")&&(o(!0),s((function(e){return e+1}))),t})),a=function(e,t){var a,r=[],n=Object(I.a)(B);try{for(n.s();!(a=n.n()).done;){var o=a.value.interceptors.response.use(e,t);r.push(o)}}catch(c){n.e(c)}finally{n.f()}return r}((function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&s((function(e){return e-1})),t}),(function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&s((function(e){return e-1})),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){return B[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return B[t].interceptors.response.eject(e)}))}(a)}}),[!0]),Object(r.useEffect)((function(){l||o(!1)}),[l]),r.createElement(Dt.Provider,{value:n},e.children)},kr=a(540),Sr=a(339),wr=a(385),Fr=a.n(wr),Rr=a(373),Tr=a(386),Ir=a.n(Tr),Ar={dashboard:"dashboard","categories.list":"Categorias","cast_members.list":"Membros de elenco","genres.list":"G\xeaneros","videos.list":"V\xeddeos",uploads:"Uploads"},Dr=vr.filter((function(e){return Object.keys(Ar).includes(e.name)})),Nr=function(){var e=r.useState(null),t=Object(F.a)(e,2),a=t[0],n=t[1],o=Boolean(a),c=function(){return n(null)};return r.createElement(r.Fragment,null,r.createElement(ie.a,{edge:"start",color:"inherit","aria-label":"open drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return n(e.currentTarget)}},r.createElement(Ir.a,null)),r.createElement(Rr.a,{id:"menu-appbar",open:o,anchorEl:a,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},Object.keys(Ar).map((function(e,t){var a=Dr.find((function(t){return t.name===e}));return r.createElement(Et.a,{key:t,component:u.b,to:a.path,onClick:c},Ar[e])}))))},Br=Object(d.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(P.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Lr=function(){var e=Br();return r.createElement(kr.a,null,r.createElement(Sr.a,{className:e.toolbar},r.createElement(Nr,null),r.createElement(f.a,{className:e.title},r.createElement("img",{src:Fr.a,alt:"CodeFlix",className:e.logo})),r.createElement(Ve.a,{color:"inherit"},"Login")))},qr=function(e){var t,a={children:null,autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return r.createElement(ie.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)}},r.createElement(Ta.a,null))}},n=Object(w.a)(Object(w.a)({},a),e);return r.createElement(ge.a,n,e.children)},_r=a(560);function Mr(e){return Object(w.a)(Object(w.a)({},e),{},{palette:Object(w.a)(Object(w.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var Ur=function(){var e=Object(r.useContext)(Dt);return r.createElement(i.a,{theme:Mr},r.createElement(Va.a,{in:e},r.createElement(_r.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:9999}})))},Vr=function(){return r.createElement(g.c,null,vr.map((function(e,t){return r.createElement(g.a,{key:t,path:e.path,component:e.component,exact:!0===e.exact})})))};var zr=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Cr,null,n.a.createElement(i.a,{theme:Q},n.a.createElement(qr,null,n.a.createElement(l.a,null),n.a.createElement(u.a,{basename:"/admin"},n.a.createElement(Ur,null),n.a.createElement(Lr,null),n.a.createElement(s.a,{paddingTop:"70px"},n.a.createElement(Pr,null),n.a.createElement(Vr,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gr=a(79),Wr=a(149),Hr=a(80),Yr=k.a.mark(Xr),Qr=k.a.mark(Zr);function Xr(){var e,t,a,r,n,o;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Hr.a)(ja.ADD_UPLOAD);case 2:e=c.sent;case 3:return c.next=6,Object(Hr.e)(e);case 6:t=c.sent,a=t.payload,r=Object(I.a)(a.files),c.prev=9,r.s();case 11:if((n=r.n()).done){c.next=24;break}return o=n.value,c.prev=13,c.next=16,Object(Hr.c)(Zr,{video:a.video,fileInfo:o});case 16:c.sent,c.next=22;break;case 19:c.prev=19,c.t0=c.catch(13),console.log(c.t0);case 22:c.next=11;break;case 24:c.next=29;break;case 26:c.prev=26,c.t1=c.catch(9),r.e(c.t1);case 29:return c.prev=29,r.f(),c.finish(29);case 32:c.next=3;break;case 34:case"end":return c.stop()}}),Yr,null,[[9,26,29,32],[13,19]])}function Zr(e){var t,a,r,n,o,c;return k.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,a=e.fileInfo,i.next=3,Object(Hr.c)(Kr,{id:t.id,fileInfo:a});case 3:r=i.sent;case 4:return i.prev=5,i.next=8,Object(Hr.e)(r);case 8:if(n=i.sent,o=n.progress,!(c=n.response)){i.next=13;break}return i.abrupt("return",c);case 13:return i.next=15,Object(Hr.d)(Ea.updateProgress({video:t,fileField:a.fileField,progress:o}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object(Hr.d)(Ea.setUploadError({video:t,fileField:a.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),Qr,null,[[5,17]])}function Kr(e){var t=e.id,a=e.fileInfo;return Object(Wr.c)((function(e){kt.partialUpdate(t,Object(P.a)({_method:"PATCH"},a.fileField,a.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var a=t.loaded/t.total;e({progress:a})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(Wr.a)}));return function(){}}))}var Jr=k.a.mark($r);function $r(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hr.b)([Xr()]);case 2:case"end":return e.stop()}}),Jr)}var en=Object(Wr.b)(),tn=Object(Gr.e)(Object(Gr.c)({upload:xa}),Object(Gr.a)(en));en.run($r);var an=tn;c.a.render(n.a.createElement(ga.a,{store:an},n.a.createElement(zr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[397,1,2]]]);
//# sourceMappingURL=main.f3a27c08.chunk.js.map