{"version":3,"sources":["static/img/logo.png","components/Page.tsx","pages/Dashboard.tsx","util/http/index.ts","components/Table/DebouncedTableSearch.js","util/http/http-resource.ts","util/http/category-http.ts","theme.ts","components/Badge.tsx","components/Table/index.tsx","components/Table/FilterResetButton.tsx","store/filter/index.ts","util/vendor/yup.ts","hooks/useFilter.ts","pages/category/Table.tsx","pages/category/PageList.tsx","components/SubmitActions.tsx","components/DefaultForm.tsx","hooks/useSnackbarFormError.ts","pages/category/Form.tsx","pages/category/PageForm.tsx","util/http/cast-member-http.ts","util/models.ts","pages/cast-member/Table.tsx","pages/cast-member/PageList.tsx","pages/cast-member/Form.tsx","pages/cast-member/PageForm.tsx","util/http/genre-http.ts","pages/genre/Table.tsx","pages/genre/PageList.tsx","pages/genre/Form.tsx","pages/genre/PageForm.tsx","util/http/video-http.ts","components/DeleteDialog.tsx","hooks/useDeleteCollection.ts","components/Loading/LoadingContext.tsx","pages/video/Table.tsx","pages/video/PageList.tsx","components/Rating.tsx","pages/video/Form/RatingField.tsx","components/InputFile.tsx","pages/video/Form/UploadField.tsx","components/AsyncAutocomplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useCollectionManager.ts","hooks/useHttpHandle.ts","util/model-filters.ts","pages/video/Form/GenreField.tsx","pages/video/Form/CategoryField.tsx","pages/video/Form/CastMemberField.tsx","store/upload/index.ts","store/upload/getters.ts","components/UploadProgress.tsx","components/SnackbarUpload/UploadAction.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","pages/video/Form/index.tsx","pages/video/PageForm.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Breadcrumbs.tsx","components/Loading/LoadingProvider.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","components/SnackbarProvider.tsx","components/Spinner.tsx","routes/AppRouter.tsx","App.tsx","serviceWorker.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["module","exports","useStyles","makeStyles","title","color","Page","props","classes","Container","Typography","className","component","variant","Box","paddingTop","children","Dashboard","httpVideo","axios","create","baseURL","instances","realizaConsulta","HttpResource","http","resource","cancelList","options","this","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","error","isCancel","serialize","booleansAsIntegers","Object","values","filter","el","File","length","categoryHttp","palette","primary","main","contrastText","secondary","dark","background","default","success","green","red","theme","createMuiTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","root","minHeight","backgroundColor","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBottom","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","localTheme","BadgeYes","Chip","label","BadgeNo","display","flex","searchIcon","text","marginTop","marginRight","searchText","clearIcon","name","TableSearch","onSearch","onHide","React","useState","valor","setValor","update","Grow","appear","in","timeout","TextField","autoFocus","InputProps","textLabels","toolbar","search","inputProps","value","onKeyDown","event","key","onChange","target","clearTimeout","setTimeout","dispatchOnSearch","fullWidth","placeholder","searchPlaceholder","searchProps","IconButton","onClick","defaultOptions","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","DebouncedTableSearch","Table","ref","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","newProps","merge","setColumnsWith","map","column","omit","forEach","width","loading","responsive","originalProps","makeActionStyles","copyTheme","selector","FilterResetButton","Tooltip","handleClick","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","total","order","sort","dir","reducer","createReducer","SET_SEARCH","state","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","setLocale","mixed","required","notType","string","max","number","min","useFilter","history","useHistory","location","useLocation","rowsPerPageOptions","rowPerPage","schema","useMemo","yup","shape","transform","undefined","isNaN","parseInt","includes","nullable","toLowerCase","createValidationSchema","stateFromURL","URLSearchParams","substr","cast","getStateFromURL","filterManager","FilterManager","useReducer","filterState","dispatch","useDebounce","debounceTime","debouncedFilterState","totalRecords","setTotalRecords","applyOrderInColumns","useEffect","replaceHistory","tableRef","current","changeRowsPerPage","changePage","changedColumn","direction","resetTablePagination","sortDirection","newText","replace","pathname","formatSearchParams","newLocation","clearSearchText","isEqual","push","columnsDefinitions","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","snackbar","useSnackbar","subscribed","useRef","setData","setLoading","is_active","debouncedState","indexColumnType","findIndex","c","columnType","is_activeFilterValue","filterList","a","list","meta","console","log","isCancelledRequest","enqueueSnackbar","pushHistory","getData","JSON","stringify","serverSide","count","onFilterChange","type","columnIndex","changeExtraFilter","onRowsDelete","rowsDeleted","idsToDelete","d","dataIndex","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSort","PageList","Fab","size","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","Button","handleSave","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","other","Grid","container","item","useSnackbarFormError","submitCount","errors","hasError","keys","validationSchema","Form","useForm","resolver","yupResolver","defaultValues","register","handleSubmit","getValues","setValue","watch","trigger","formState","useParams","category","setCategory","onSubmit","formData","getCategory","xs","md","inputRef","helperText","message","InputLabelProps","shrink","multiline","rows","FormControlLabel","control","Checkbox","checked","labelPlacement","then","isValid","PageForm","castMemberHttp","CastMemberTypeMap","1","2","VideoFileFieldsMap","castMemberNames","typeFilterValue","invert","castMember","setCastMember","getCastMember","FormControl","FormLabel","RadioGroup","e","Radio","FormHelperText","genreHttp","filterType","join","setCategories","categories","split","indexColumnCategories","columnCategories","categoriesFilterValue","isSubscribed","categories_id","genre","setGenre","promises","Promise","categoriesResponse","genreResponse","loadData","select","SelectProps","multiple","MenuItem","videoHttp","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","LoadingContext","createContext","useContext","confirmed","ids","index","deleteCollection","response","catch","height","fontSize","borderRadius","justifyContent","backgroundColors","Rating","style","rating","ratings","RatingField","FormControlProps","row","ratingProps","InputFile","fileRef","fileName","setFileName","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","clear","openWindow","click","UploadField","accept","endIcon","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setOptions","autocompleteProps","loadingText","noOptionsText","inputValue","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","useCollectionManager","collection","setCollection","addItem","find","i","unshift","removeItem","splice","useHttpHandle","useCallback","request","getGenresFromCategory","genres","cat","GenreField","setGenres","removeCategory","autocompleteHttp","autocompleteRef","getOptionLabel","option","noWrap","genresSubtitle","grey","CategoryField","clearOnEscape","getOptionSelected","genresFromCategory","CastMemberField","castMembers","setCastMembers","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","progress","$splice","fileField","filename","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadFile","indexUpload","indexFile","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","isFinished","obj","isUploadType","some","progressContainer","left","progressBackground","UploadProgress","uploadOrFile","Fade","enter","exit","successIcon","erroIcon","deleteIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","edge","movieIcon","minWidth","listItem","listItemText","marginLeft","UploadItem","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classnames","Collapse","List","cardUpload","cardOpened","cardContentOpened","description","year_launched","cast_members","test","every","v","parent","fileFields","opened","thumb_file","banner_file","trailer_file","video_file","setVideo","isGreaterMd","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","createRef","resetForm","field","cast_member","uploadFiles","persist","anchorOrigin","vertical","horizontal","content","isSubcribed","CardContent","divider","activeActions","orientation","gridTitle","justify","useSytles","panelSummary","expandedIcon","routes","path","exact","CategoryList","CategoryForm","CastMemberList","CastMemberForm","GenreList","GenreForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","breadcrumbNameMap","route","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","aria-label","last","slice","RouteParser","match","makeBreadcrumb","LoadingProvider","countRequest","setCountRequest","requestIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","prevCountRequest","responseIds","addGlobalResponseInterceptor","reject","eject","removeGlobalResponseInterceptor","Provider","listRoutes","menuRoutes","Menu","anchorEl","setAnchorEl","Boolean","aria-controls","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","SnackbarProvider","snackbarProviderRef","defaultProps","autoHideDuration","maxSnack","preventDuplicate","makeLocalTheme","Spinner","LinearProgress","zIndex","AppRouter","App","Fragment","CssBaseline","basename","window","hostname","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMidleware","createSagaMidleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f3a27c08.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport { Box, Container, makeStyles, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    title: {\n        color: \"#999999\"\n    }\n});\n\ntype PageProps = {\n    title: string    \n};\n\nexport const Page:React.FC<PageProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Container>\n            <Typography className={classes.title} component=\"h1\" variant=\"h5\">\n                {props.title}\n            </Typography>\n            <Box paddingTop={1}>\n                {props.children}\n            </Box>\n        </Container>\n    );\n};","import * as React from 'react';\nimport { Page } from '../components/Page';\n\ninterface DashboardProps {\n    \n};\nconst Dashboard = (props: DashboardProps) => {\n    return (\n        <Page title=\"Dashboard\">\n        </Page>\n    );\n};\n\nexport default Dashboard;","import axios, { AxiosRequestConfig, AxiosResponse } from 'axios';\n\nexport const httpVideo = axios.create({\n    baseURL: \"http://localhost:8000/api\"\n});\n\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(onFulfilled?: (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>, onRejected?: (error: any) => any) {\n    const ids: number[] = [];\n    for(let i of instances) {\n        const id = i.interceptors.request.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]) {\n    ids.forEach((id, index) => instances[index].interceptors.request.eject(id))\n}\n\nexport function addGlobalResponseInterceptor(onFulfilled?: (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>, onRejected?: (error: any) => any) {\n    const ids: number[] = [];\n    for(let i of instances) {\n        const id = i.interceptors.response.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]) {\n    ids.forEach((id, index) => instances[index].interceptors.response.eject(id))   \n}","import React from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(\n  theme => ({\n    main: {\n      display: 'flex',\n      flex: '1 0 auto',\n    },\n    searchIcon: {\n      color: theme.palette.text.secondary,\n      marginTop: '10px',\n      marginRight: '8px',\n    },\n    searchText: {\n      flex: '0.8 0',\n    },\n    clearIcon: {\n      '&:hover': {\n        color: theme.palette.error.main,\n      },\n    },\n  }),\n  { name: 'MUIDataTableSearch' },\n);\n\nvar realizaConsulta;\nconst TableSearch = ({ options, searchText, onSearch, onHide }) => {\n  const classes = useStyles();\n  \n  const dispatchOnSearch = value => {\n    clearTimeout(realizaConsulta);\n    realizaConsulta = setTimeout(() => onSearch(value), 300);\n  };\n\n  const [valor, setValor] = React.useState('');\n  const handleTextChange = event => {    \n    let value = event.target.value;\n    setValor(value, dispatchOnSearch(value));\n  };\n\n  const onKeyDown = event => {\n    if (event.key === 'Escape') {\n      onHide();\n    }\n  };\n\n  if (searchText && searchText.update)\n    onHide();\n\n  return (\n    <Grow appear in={true} timeout={300}>\n      <div className={classes.main}>\n        <SearchIcon className={classes.searchIcon} />\n        <TextField\n          className={classes.searchText}\n          autoFocus={true}\n          InputProps={{\n            'data-test-id': options.textLabels.toolbar.search,\n          }}\n          inputProps={{\n            'aria-label': options.textLabels.toolbar.search,\n          }}\n          value={valor || ''}\n          onKeyDown={onKeyDown}\n          onChange={handleTextChange}\n          fullWidth={true}\n          placeholder={options.searchPlaceholder}\n          {...(options.searchProps ? options.searchProps : {})}\n        />\n        <IconButton className={classes.clearIcon} onClick={onHide}>\n          <ClearIcon />\n        </IconButton>\n      </div>\n    </Grow>\n  );\n};\n\nexport default TableSearch;","import { AxiosInstance, AxiosRequestConfig, AxiosResponse, CancelTokenSource } from \"axios\";\nimport axios from 'axios';\nimport {serialize} from 'object-to-formdata';\n\nexport default class HttpResource {\n\n    private cancelList: CancelTokenSource | null = null;\n\n    constructor(protected http: AxiosInstance, protected resource) {\n    }\n    \n    list<T = any>(options?: { queryParams? }) : Promise<AxiosResponse<T>> {\n        // if (this.cancelList) {\n        //     this.cancelList.cancel('list cancelled');\n        // }\n        this.cancelList = axios.CancelToken.source();\n\n        const config: AxiosRequestConfig = {\n            cancelToken: this.cancelList.token\n        };\n        if (options && options.queryParams) {\n            config.params = options.queryParams;\n        }\n        return this.http.get<T>(this.resource, config);\n    }\n\n    get<T = any>(id) {\n        return this.http.get<T>(`${this.resource}/${id}`);\n    }\n\n    create<T = any>(data) : Promise<AxiosResponse<T>> {\n        let sendData = this.makeSendData(data);\n        return this.http.post<T>(this.resource, sendData);\n    }\n\n    update<T = any>(id, data, options?: {http?: {usePost: boolean}, config?: AxiosRequestConfig}): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n    }\n\n    partialUpdate<T = any>(id, data, options?: {http?: {usePost: boolean}, config?: AxiosRequestConfig}): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n    }\n\n    delete<T = any>(id){\n        return this.http.delete<T>(`${this.resource}/${id}`);\n    }\n\n    deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n        const config: AxiosRequestConfig = {};\n        if(queryParams) {\n            config['params'] = queryParams;\n        }\n\n        return this.http.delete<T>(`${this.resource}`, config);\n    }\n\n    isCancelledRequest(error) {\n        return axios.isCancel(error);\n    }\n\n    private makeSendData(data) {\n        return this.containsFile(data) ? this.getFormData(data) : data;\n    }\n    \n    private getFormData(data) {\n        return serialize(data, { booleansAsIntegers: true });\n    }\n\n    private containsFile(data) {\n        return Object\n            .values(data)\n            .filter(el => el instanceof File).length !== 0;\n    }\n}","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst categoryHttp = new HttpResource(httpVideo, \"categories\");\nexport default categoryHttp;","import { createMuiTheme } from \"@material-ui/core\";\nimport { green, red } from \"@material-ui/core/colors\";\nimport { PaletteOptions, SimplePaletteColorOptions } from \"@material-ui/core/styles/createPalette\";\n\nconst palette: PaletteOptions = {\n    primary: {\n        main: '#79aec8',\n        contrastText: '#fff'\n    },\n    secondary: {\n        main: '#4db5ab',\n        contrastText: '#fff',\n        dark: \"#055a52\"\n    },\n    background: {\n        default: '#fafafa'\n    },\n    success: {\n        main: green[500],\n        contrastText: '#fff'\n    },\n    error: {\n        main: red[500]\n    }\n};\n\nconst theme = createMuiTheme({\n    palette,\n    overrides: {\n        MUIDataTable: {\n            paper: {\n                boxShadow: \"none\"\n            }\n        },\n        MUIDataTableToolbar: {\n            root: {\n                minHeight: '58px',\n                backgroundColor: palette!.background!.default\n            },\n            icon: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.primary as SimplePaletteColorOptions).dark\n                }\n            },\n            iconActive: {\n                color: (palette!.primary as SimplePaletteColorOptions).dark,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.primary as SimplePaletteColorOptions).dark\n                }\n            }\n        },\n        MUIDataTableHeadCell: {\n            fixedHeader: {\n                paddingTop: 8,\n                paddingBottom: 8,\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                color: '#ffffff',\n                '&[aria-sort]': {\n                    backgroundColor: '#459ac4'\n                }\n            },\n            sortActive: {\n                color: '#fff'\n            },\n            sortAction: {\n                alignItems: 'center'\n            },\n            sortLabelRoot: {\n                '& svg': {\n                    color: '#fff !important'\n                }\n            }\n        },\n        MUIDataTableSelectCell: {\n            headerCell: {\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                '& span': {\n                    color: '#fff !important'\n                }\n            }\n        },\n        MUIDataTableBodyCell: {\n            root: {\n                color: (palette!.secondary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &.focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).main\n                }\n            }\n        },\n        MUIDataTableToolbarSelect: {\n            title: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            },\n            iconButton: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            }\n        },\n        MUIDataTableBodyRow: {\n            root: {\n                '&:nth-child(odd)': {\n                    backgroundColor: palette!.background!.default\n                }\n            }\n        },\n        MUIDataTablePagination: {\n            root: {\n                color: (palette!.primary as SimplePaletteColorOptions).main\n            }\n        }\n    }\n});\n\nexport default theme;","import { Chip, createMuiTheme, MuiThemeProvider } from '@material-ui/core';\nimport * as React from 'react';\nimport theme from '../theme';\n\nconst localTheme = createMuiTheme({\n    palette: {\n        primary: theme.palette.success,\n        secondary: theme.palette.secondary\n    }\n});\n\nexport const BadgeYes = () => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label=\"Sim\" color=\"primary\"/>\n        </MuiThemeProvider>\n    );\n};\n\nexport const BadgeNo = () => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label=\"No\" color=\"secondary\"/>\n        </MuiThemeProvider>\n    );\n};","import MUIDataTable, { MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps } from 'mui-datatables';\nimport * as React from 'react';\nimport {merge, omit, cloneDeep} from 'lodash';\nimport { MuiThemeProvider, Theme, useMediaQuery, useTheme } from '@material-ui/core';\nimport DebouncedTableSearch from './DebouncedTableSearch';\n\nexport interface TableColumn extends MUIDataTableColumn{\n    width?: string\n}\n\nconst defaultOptions: MUIDataTableOptions = {\n    print: false,\n    download: false,\n    textLabels: {\n        body: {\n            noMatch: \"Nenhum registro encontrado\",\n            toolTip: \"Classificar\"\n        },\n        pagination: {\n            next: \"Prxima pgina\",\n            previous: \"Pgina anterior\",\n            rowsPerPage: \"Por pgina:\",\n            displayRows: \"de\"\n        },\n        toolbar: {\n            search: \"Busca\",\n            downloadCsv: \"Download CSV\",\n            print: \"Imprimir\",\n            viewColumns: \"Ver colunas\",\n            filterTable: \"Filtrar tabelas\"\n        },\n        filter: {\n            all: \"Todos\",\n            title: \"FILTROS\",\n            reset: \"LIMPAR\"\n        },\n        viewColumns: {\n            title: \"Ver colunas\",\n            titleAria: \"Ver/Esconder Colunas da Tabela\"\n        },\n        selectedRows: {\n            text: \"registro(s) selecionado(s)\",\n            delete: \"Excluir\",\n            deleteAria: \"Excluir registros selecionados\"\n        }\n    },\n    customSearchRender: (\n                            searchText: string,\n                            handleSearch: any,\n                            hideSearch: any,\n                            options: any,\n                        ) => {\n                            return <DebouncedTableSearch \n                                searchText={searchText}\n                                onSearch={handleSearch}\n                                onHide={hideSearch}\n                                options={options}\n                            />\n                        }\n};\n\nexport interface MuiDataTableRefComponent {\n    changePage: (page: number) => void;\n    changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\nexport interface TableProps extends MUIDataTableProps, React.RefAttributes<MuiDataTableRefComponent> {\n    columns: TableColumn[];\n    loading?: boolean;\n    debouncedSearchTime?: number;\n}\n\nconst Table = React.forwardRef<MuiDataTableRefComponent, TableProps>((props, ref) => {\n\n    const theme = cloneDeep<Theme>(useTheme());\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down(\"sm\"));\n    const newProps = merge(\n        {options: cloneDeep(defaultOptions)},\n        props,\n        {columns: extractMuiDataTableColumns(props.columns)}\n    );\n\n    function extractMuiDataTableColumns(columns:TableColumn[]): MUIDataTableColumn[] {\n        setColumnsWith(columns);\n        return columns.map(column => omit(column, 'width'));\n    }\n\n    function setColumnsWith(columns:TableColumn[]) {\n        columns.forEach((column, key) => {\n            if (column.width) {\n                const overrides = theme.overrides as any;\n                overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key + 2})`] = {\n                    width: column.width\n                }\n            }\n        })\n    }\n\n    function applyLoading() {\n        newProps.options.textLabels!!.body!!.noMatch =\n            props.loading === true ? \"Carregando...\" : newProps.options.textLabels!!.body!!.noMatch;\n    }\n\n    function applyResponsive() {\n        newProps.options.responsive = isSmOrDown ? \"standard\" : \"simple\";\n    }\n\n    function getOriginalMuiDataTableProps() {\n        return {\n            ...omit(newProps, 'loading'),\n            ref\n        };\n    }\n\n    applyLoading();\n    applyResponsive();\n    \n    const originalProps = getOriginalMuiDataTableProps();\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <MUIDataTable {...originalProps}/>\n        </MuiThemeProvider>\n    );\n});\n\nexport default Table;\n\nexport function makeActionStyles(column) {\n    return theme => {\n        const copyTheme = cloneDeep(theme);\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: \"0px;\",\n            paddingBottom: \"0px\"\n        };\n        return copyTheme;\n    }\n}\n","import * as React from 'react';\nimport { IconButton, makeStyles, Tooltip } from '@material-ui/core';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\n\nconst useStyles = makeStyles(theme => ({\n    iconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n}));\n\ninterface FilterResetButtonProps {\n    handleClick: () => void\n}\n\nexport const FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Tooltip title=\"Limpar busca\">\n            <IconButton className={classes.iconButton} onClick={props.handleClick}>\n                <ClearAllIcon />\n            </IconButton>\n        </Tooltip>\n    );\n};","import { createActions, createReducer } from \"reduxsauce\";\nimport * as Typings from \"./types\";\n\nexport const {Types, Creators} = createActions <{\n    SET_SEARCH: string,\n    SET_PAGE: string,\n    SET_PER_PAGE: string,\n    SET_ORDER: string,\n    SET_RESET: string,\n    UPDATE_EXTRA_FILTER: string\n}, {\n    setSearch(payload: Typings.SetSearchAction['payload']) : Typings.SetSearchAction,\n    setPage(payload: Typings.SetPageAction['payload']) : Typings.SetPageAction,\n    setPerPage(payload: Typings.SetPerPageAction['payload']) : Typings.SetPerPageAction,\n    setOrder(payload: Typings.SetOrderAction['payload']) : Typings.SetOrderAction,\n    setReset(payload: Typings.SetResetAction['payload']) : Typings.SetResetAction,\n    updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']) : Typings.UpdateExtraFilterAction\n}>\n({\n    setSearch: ['payload'],\n    setPage: ['payload'],\n    setPerPage: ['payload'],\n    setOrder: ['payload'],\n    setReset: ['payload'],\n    updateExtraFilter: ['payload']\n});\n\nexport const INITIAL_STATE : Typings.State = {\n    search: null,\n    pagination: {\n        page: 1,\n        per_page: 15,\n        total: 0\n    },\n    order: {\n        sort: null,\n        dir: null\n    }\n};\n\nconst reducer = createReducer<Typings.State, Typings.Actions>(INITIAL_STATE, {\n    [Types.SET_SEARCH]: setSearch as any,\n    [Types.SET_PAGE]: setPage as any,\n    [Types.SET_PER_PAGE]: setPerPage as any,\n    [Types.SET_ORDER]: setOrder as any,\n    [Types.SET_RESET]: setReset as any,\n    [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter as any\n});\n\nexport default reducer;\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction): Typings.State {\n    return {\n        ...state,\n        search: action.payload.search,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        }\n    };\n}\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: action.payload.page\n        }\n    };\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            per_page: action.payload.per_page\n        }\n    };\n}\n\nfunction setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction): Typings.State {\n    return {\n        ...state,\n        pagination: {\n            ...state.pagination,\n            page: 1\n        },\n        order: {\n            sort: action.payload.sort,\n            dir: action.payload.dir\n        }\n    };\n}\n\nfunction setReset(state = INITIAL_STATE, action: Typings.SetResetAction) : Typings.State {\n    //return {...INITIAL_STATE, search: {value: null, update: true}};\n    return action.payload.state;\n}\n\nfunction updateExtraFilter(state = INITIAL_STATE, action: Typings.UpdateExtraFilterAction) {\n    return {\n        ...state,\n        extraFilter: {\n            ...state.extraFilter,\n            ...action.payload\n        }\n    }\n}","import {LocaleObject, setLocale} from 'yup';\n\n/* eslint-disable no-template-curly-in-string */\nconst ptBR: LocaleObject = {\n    mixed: {\n        required: \"${path}  requerido\",\n        notType: \"${path}  invlido\"\n    },\n    string: {\n        max: '${path} precisa ter no mximo ${max} caracteres'    \n    },\n    number: {\n        min: '${path} precisa ser no mnimo ${min}'\n    }\n};\n\nsetLocale(ptBR);\n\nexport * from 'yup';","import { Actions as FilterActions, State as FilterState } from \"../store/filter/types\";\nimport { Dispatch, Reducer, useReducer, useState, useEffect, useMemo } from \"react\";\nimport reducer, {Creators} from \"../store/filter\";\nimport { MUIDataTableColumn } from \"mui-datatables\";\nimport * as yup from '../util/vendor/yup';\nimport { useDebounce } from \"use-debounce\";\nimport { useHistory, useLocation } from \"react-router\";\nimport {History} from \"history\";\nimport {isEqual} from \"lodash\";\nimport { MuiDataTableRefComponent } from \"../components/Table\";\nimport { ObjectSchema } from \"../util/vendor/yup\";\n\ninterface FilterManagerOptions {\n    schema: ObjectSchema;\n    columns: MUIDataTableColumn[];\n    rowPerPage: number;\n    rowsPerPageOptions: number[];\n    debounceTime: number;\n    history: History;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n    extraFilter?: ExtraFilter;\n}\n\ninterface ExtraFilter {\n    getStateFromURL: (queryParams: URLSearchParams) => any,\n    formatSearchParams: (debouncedState: FilterState) => any,\n    createValidationSchema: () => any\n}\n\ninterface UseFilterOptions {\n    columns: MUIDataTableColumn[];\n    rowPerPage: number;\n    rowsPerPageOptions: number[];\n    debounceTime: number;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n    extraFilter?: ExtraFilter;\n}\n\nexport default function useFilter(options: UseFilterOptions) {\n    const history = useHistory();\n    const location = useLocation();\n    const {rowsPerPageOptions, rowPerPage, extraFilter, columns} = options;\n    const schema = useMemo(() => {\n        return yup.object().shape({\n            search: yup.string()\n                .transform(value => !value ? undefined : value)\n                .default(''),\n            pagination: yup.object().shape({\n                page: yup.number()\n                    .transform(value => isNaN(value) || parseInt(value) < 1 ? undefined : value)\n                    .default(1),\n                per_page: yup.number()\n                    //.oneOf(rowsPerPageOptions)\n                    .transform(value => \n                        isNaN(value) || !rowsPerPageOptions.includes(parseInt(value)) ? undefined : value)\n                    .default(rowPerPage),\n            }),\n            order: yup.object().shape({\n                sort: yup.string()\n                    .nullable()\n                    .transform(value => {\n                        const columnsName = columns\n                            .filter(column => !column.options || column.options.sort !== false)\n                            .map(column => column.name);\n                        return columnsName.includes(value) ? value : undefined;\n                    })\n                    .default(null),\n                dir: yup.string()\n                    .nullable()\n                    .transform(value => !value || !['asc', 'desc'].includes(value.toLowerCase()) ? undefined : value)\n                    .default(null)\n            }),\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.createValidationSchema()\n                }\n            )\n        });\n    }, [rowsPerPageOptions, rowPerPage, columns, extraFilter]);\n\n    const stateFromURL = useMemo(() => {\n        const queryParams = new URLSearchParams(location.search.substr(1));\n        return schema.cast({\n            search: queryParams.get('search'),\n            pagination: {\n                page: queryParams.get('page'),\n                per_page: queryParams.get('per_page')\n            },\n            order: {\n                sort: queryParams.get('sort'),\n                dir: queryParams.get('dir')\n            },\n            ...(\n                extraFilter && {\n                    extraFilter: extraFilter.getStateFromURL(queryParams)\n                }\n            )\n        });\n    }, [location, schema, extraFilter]);\n\n\n    const filterManager = new FilterManager({...options, history, schema});\n    const INITIAL_STATE = stateFromURL as any;\n    const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer, INITIAL_STATE);\n    const [debouncedFilterState] = useDebounce(filterState, options.debounceTime);\n    const [totalRecords, setTotalRecords] = useState<number>(0);\n    filterManager.state = filterState;\n    // filterManager.debouncedState = debouncedFilterState;\n    filterManager.dispatch = dispatch;\n\n    filterManager.applyOrderInColumns();\n\n    useEffect(() => {\n        filterManager.replaceHistory()\n    }, \n    // eslint-disable-next-line\n    []);\n\n    return {\n        columns: filterManager.columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        dispatch,\n        totalRecords,\n        setTotalRecords\n    }\n}\n\nexport class FilterManager{\n\n    schema;\n    state: FilterState = null as any;\n    dispatch: Dispatch<FilterActions> = null as any;\n    columns: MUIDataTableColumn[];\n    rowPerPage: number;\n    rowsPerPageOptions: number[];\n    history: History;\n    tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n    extraFilter?: ExtraFilter;\n\n    constructor(options: FilterManagerOptions) {\n        const { schema } = options;\n        this.schema = schema;\n        this.columns = options.columns;\n        this.rowPerPage = options.rowPerPage;\n        this.rowsPerPageOptions = options.rowsPerPageOptions;\n        this.history = options.history;\n        this.tableRef = options.tableRef;\n        this.extraFilter = options.extraFilter;\n    }\n\n    private resetTablePagination() {\n        this.tableRef.current.changeRowsPerPage(this.rowPerPage);\n        this.tableRef.current.changePage(0);\n    }\n\n    changeSearch(value) {\n        this.dispatch(Creators.setSearch({search: value}));\n    }\n\n    changePage(page) {\n        this.dispatch(Creators.setPage({page: page + 1}));\n    }\n\n    changeRowsPerPage(per_page) {\n        this.dispatch(Creators.setPerPage({per_page: per_page}));\n    }\n\n    changeColumnSort(changedColumn: string, direction: string) {\n        this.dispatch(Creators.setOrder({\n            sort: changedColumn,\n            dir: direction.includes('desc') ? 'desc' : 'asc'})\n        );\n        this.resetTablePagination();\n    }\n\n    changeExtraFilter(data) {\n        this.dispatch(Creators.updateExtraFilter(data));\n    }\n\n    resetFilter() {\n        const INITIAL_STATE = {\n            ...this.schema.cast({}),\n            search: {value: null, update: true}\n        };\n        this.dispatch(Creators.setReset({\n            state: INITIAL_STATE\n        }));\n        this.resetTablePagination();\n    }\n\n    applyOrderInColumns() {\n        this.columns = this.columns.map(column => {\n            return column.name === this.state.order.sort\n            ? {\n                ...column,\n                options: {\n                    ...column.options,\n                    sortDirection: this.state.order.dir as any\n                }\n              }: column;\n        });\n    }\n\n    clearSearchText(text) {\n        let newText = text;\n        if (text && text.value !== undefined) {\n            newText = text.value;\n        }\n        return newText;\n    }\n\n    replaceHistory() {\n        this.history.replace({\n            pathname: this.history.location.pathname,\n            search: \"?\" + new URLSearchParams(this.formatSearchParams() as any),\n            state: this.state\n            //state: this.debouncedState\n        })\n    }\n\n    pushHistory() {\n        const newLocation = {\n            pathname: this.history.location.pathname,\n            search: \"?\" + new URLSearchParams(this.formatSearchParams() as any),\n            state: {\n                ...this.state,\n                //...this.debouncedState,\n                search: this.clearSearchText(this.state.search)\n            }\n        };\n\n        if (!isEqual(this.history.location.state, this.state))\n            this.history.push(newLocation);\n    }\n\n    private formatSearchParams() {\n        const search = this.clearSearchText(this.state.search);\n        return {\n            ...(search && search !== '' && {search: search}),\n            ...(this.state.pagination.page !== 1 && {page: this.state.pagination.page}),\n            ...(this.state.pagination.per_page !== 15 && {per_page: this.state.pagination.per_page}),\n            ...(\n                this.state.order.sort && {\n                    sort: this.state.order.sort,\n                    dir: this.state.order.dir\n                }\n            ),\n            ...(\n                this.extraFilter && this.extraFilter.formatSearchParams(this.state)\n            )\n        }\n    }\n}","import * as React from 'react';\nimport {useEffect, useRef, useState} from 'react';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport categoryHttp from '../../util/http/category-http';\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport { Category, ListResponse } from '../../util/models';\nimport DefaultTable, { makeActionStyles, TableColumn, MuiDataTableRefComponent } from '../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport * as yup from '../../util/vendor/yup';\nimport { State } from '../../store/filter/types';\n\nconst columnsDefinitions: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: \"30%\",\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"43%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"is_active\",\n        label: \"Ativo?\",\n        width: \"4%\",\n        options: {\n            filterOptions: {\n                names: ['Sim', 'No']\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>;\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: \"10%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n            return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"action\",\n        label: \"Aes\",\n        width: \"13%\",\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender: (value, tableMeta) => {\n                //console.log(tableMeta);\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/categories/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon />\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n\nconst rowPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Category[]>([]);\n    const [loading, setLoading] = useState<boolean>(false);\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n\n    const {\n            columns,\n            filterManager,\n            filterState,\n            debouncedFilterState,\n            //dispatch,\n            totalRecords,\n            setTotalRecords\n        } = useFilter({\n            columns: columnsDefinitions,\n            debounceTime: 300,\n            rowPerPage,\n            rowsPerPageOptions,\n            tableRef,\n            extraFilter: {\n                createValidationSchema: () => {\n                    return yup.object().shape({\n                        is_active: yup.string()\n                            .nullable()\n                            .default(null)\n                    })\n                },\n                formatSearchParams: (debouncedState: State) => {\n                    return debouncedState.extraFilter ? {\n                        ...(\n                            debouncedState.extraFilter.is_active &&\n                            {is_active: debouncedState.extraFilter.is_active}\n                        )\n                    } : undefined\n                },\n                getStateFromURL: (queryParams) => {\n                    return {\n                        is_active: queryParams.get('is_active')\n                    }\n                }\n            }\n        });\n\n    const indexColumnType = columns.findIndex(c => c.name === 'is_active');\n    const columnType = columns[indexColumnType];\n    const is_activeFilterValue = filterState.extraFilter && filterState.extraFilter.is_active as never;\n    (columnType.options as any).filterList = is_activeFilterValue ? [is_activeFilterValue] : [];\n\n    useEffect(() => {\n        async function getData() {\n            setLoading(true);\n            try {\n                const {data} = await categoryHttp.list<ListResponse<Category>>({\n                    queryParams: {\n                        search: filterManager.clearSearchText(filterState.search),\n                        page: filterState.pagination.page,\n                        per_page: filterState.pagination.per_page,\n                        sort: filterState.order.sort,\n                        dir: filterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.is_active &&\n                            {is_active: debouncedFilterState.extraFilter.is_active === 'Sim' ? 1 : 0}\n                        )\n                    }\n                });\n                if (subscribed.current) {\n                    setData(data.data);\n                    setTotalRecords(data.meta.total);    \n                }\n            }\n            catch (error) {\n                console.log(error);\n                if (categoryHttp.isCancelledRequest(error)) {\n                    return;\n                }\n                snackbar.enqueueSnackbar(\n                    'No foi possvel buscar as categorias',\n                    {variant: 'error'}\n                );\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    },\n    // eslint-disable-next-line\n    [\n        // eslint-disable-next-line\n        filterManager.clearSearchText(debouncedFilterState.search),\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        // eslint-disable-next-line\n        JSON.stringify(debouncedFilterState.extraFilter)\n    ]);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    responsive: 'standard',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column: string, filterList: any, type) => {\n                        const columnIndex = columns.findIndex(c => c.name === column);\n                        filterManager.changeExtraFilter({\n                            [column]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    onRowsDelete: (rowsDeleted) => {\n                        const idsToDelete = rowsDeleted.data.map(d => data[d.dataIndex].id);\n                        categoryHttp.delete(idsToDelete);\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page)  => filterManager.changePage(page),\n                    onChangeRowsPerPage: (per_page)  => filterManager.changeRowsPerPage(per_page),\n                    onColumnSortChange: (changedColumn: string, direction: string) => \n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from './Table';\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem categorias\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar categoria\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/categories/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import { Box, Button, ButtonProps, makeStyles, Theme } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        submit: {\n            margin: theme.spacing(1)\n        }\n    }\n});\n\ninterface SubmitActionsProps {\n    disabledButtons?: boolean;\n    handleSave: () => void;\n}\n\nconst SubmitActions: React.FC<SubmitActionsProps> = (props) => {\n\n    const classes = useStyles();\n\n    const buttonProps: ButtonProps = {\n        className: classes.submit,\n        color: \"secondary\",\n        variant: \"contained\",\n        disabled: props.disabledButtons ?? false\n    };\n\n    return (\n        <Box dir=\"ltf\">\n            <Button color={\"primary\"} {...buttonProps} onClick={props.handleSave}>Salvar</Button>\n            <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\n        </Box>\n    );\n};\n\nexport default SubmitActions;","import { Grid, GridProps, makeStyles } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n    gridItem: {\n        padding: theme.spacing(1, 0)\n    }\n}));\n\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement> {\n    GridContainerProps?: GridProps;\n    GridItemProps?: GridProps;\n};\n\nexport const DefaultForm : React.FC<DefaultFormProps> = (props) => {\n\n    const classes = useStyles();\n    const {GridContainerProps, GridItemProps, ...other} = props;\n\n    return (\n        <form {...other}>\n            <Grid container {...GridContainerProps}>\n                <Grid className={classes.gridItem} item {...GridItemProps}>\n                    {props.children}\n                </Grid>\n            </Grid>\n        </form>\n                    \n    );\n};","import { useSnackbar } from \"notistack\"\nimport { useEffect } from \"react\";\n\nconst useSnackbarFormError = (submitCount, errors) => {\n    const {enqueueSnackbar} = useSnackbar();\n    useEffect(() => {\n        const hasError = Object.keys(errors).length !== 0;\n        if(submitCount > 0 && hasError) {\n            enqueueSnackbar(\n                'Formulrio invlido. Reveja os campos marcados em vermelhos.',\n                {variant: 'error'}\n            )\n        }\n    }, [submitCount, errors, enqueueSnackbar])\n};\n\nexport default useSnackbarFormError;","import { Checkbox, FormControlLabel, TextField } from '@material-ui/core';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport categoryHttp from '../../util/http/category-http';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from '../../util/vendor/yup';\nimport { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router';\nimport { useSnackbar } from 'notistack';\nimport SubmitActions from '../../components/SubmitActions';\nimport { DefaultForm } from '../../components/DefaultForm';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .label(\"Nome\")\n        .required()\n        .max(255),\n    is_active: yup.boolean()\n});\n\nexport const Form = () => {\n\n    const {register, handleSubmit, getValues, setValue, errors, reset, watch, trigger, formState} = useForm({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            name: '',\n            is_active: true\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const snackbar = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [category, setCategory] = useState<{id: string} | null>(null);\n    const [loading, setLoading] = useState<boolean>(false);\n\n    useEffect(() => {\n        register({name: \"is_active\"})\n    }, [register]);\n\n    useEffect(() =>{\n        if (!id)\n            return;\n\n        async function getCategory() {\n            setLoading(true);\n            try {\n                const {data} = await categoryHttp.get(id);\n                setCategory(data.data);\n                reset(data.data);\n            } catch (error) {\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    \"No foi possvel carregar as informaes\",\n                    {variant: \"error\"}\n                )\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        getCategory();\n        // setLoading(true);\n        // categoryHttp\n        //     .get(id)\n        //     .then(({data}) => {\n        //         setCategory(data.data);\n        //         reset(data.data);\n        //     })\n        //     .finally(() => setLoading(false))\n    },\n    // eslint-disable-next-line \n    []);\n\n    async function onSubmit(formData, event) {\n        setLoading(true);\n        try {\n            const http = !category\n            ? categoryHttp.create(formData)\n            : categoryHttp.update(category.id, formData);\n        \n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Categoria salva com sucesso',\n                {variant: 'success'}\n            );\n            setTimeout(() => {\n                event ? (\n                    id ? history.replace(`/categories/${data.data.id}/edit`) :\n                    history.push(`/categories/${data.data.id}/edit`)\n                ) : history.push('/categories')\n            });\n        } catch (error) {\n            console.log(error);\n            snackbar.enqueueSnackbar(\n                'No foi possvel salvar a categoria',\n                {variant: 'error'}\n            );\n        } finally {\n            setLoading(false);\n        }\n        \n    }\n\n    // function onSubmit(formData, event) {\n    //     const http = !category\n    //         ? categoryHttp.create(formData)\n    //         : categoryHttp.update(category.id, formData);\n        \n    //     setLoading(true);\n    //     http.then(({data}) => {\n    //         snackbar.enqueueSnackbar(\n    //             'Categoria salva com sucesso',\n    //             {variant: 'success'}\n    //         );\n    //         setTimeout(() => {\n    //             event ? (\n    //                 id ? history.replace(`/categories/${data.data.id}/edit`) :\n    //                 history.push(`/categories/${data.data.id}/edit`)\n    //             ) : history.push('/categories')\n    //         });\n    //     })\n    //     .catch((error) => {\n    //         console.log(error);\n    //         snackbar.enqueueSnackbar(\n    //             'Erro ao salvar a categoria',\n    //             {variant: 'error'}\n    //         );\n    //     })\n    //     .finally(() => setLoading(false));\n    // }\n\n    return (\n        <DefaultForm GridItemProps={{xs:12, md:6}} onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register()}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: true}}\n            />\n            <TextField\n                name=\"description\"\n                label=\"Descrio\"\n                multiline\n                rows=\"4\"\n                fullWidth\n                variant={\"outlined\"}\n                margin={\"normal\"}\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{shrink: true}}\n            />\n            <FormControlLabel\n                disabled={loading}\n                control={\n                    <Checkbox\n                        name=\"is_active\"\n                        color=\"primary\"\n                        onChange={() => setValue('is_active', !getValues()['is_active'])}\n                        checked={watch('is_active')}\n                    />\n                }\n                label=\"Ativo?\"\n                labelPlacement=\"end\"\n            />\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() => trigger().then(isValid => {\n                    isValid && onSubmit(getValues(), null);\n                })}\n            />\n        </DefaultForm>\n    );\n}","import * as React from 'react';\nimport {Form} from \"./Form\";\nimport {Page} from \"../../components/Page\";\nimport { useParams } from 'react-router';\n\nconst PageForm = () => {\n    const {id} = useParams();\n    return (\n        <Page title={!id ? \"Criar categoria\" : \"Editar categoria\"}>\n            <Form/>\n        </Page>\n    )\n}\n\nexport default PageForm;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst castMemberHttp = new HttpResource(httpVideo, \"cast_members\");\nexport default castMemberHttp;","export interface ListResponse<T> {\n    data: T[];\n    links: {\n        first: string;\n        last: string;\n        prev: string | null;\n        next: string | null;\n    },\n    meta: {\n        currant_page: number;\n        from: number;\n        last_page: number;\n        path: string;\n        per_page: string;\n        to: number;\n        total: number;\n    }\n}\n\ninterface Timestampable {\n    readonly created_at: string;\n    readonly deleted_at: string | null;\n    readonly updated_at: string;\n}\n\nexport interface Category extends Timestampable{\n    readonly id: string;\n    name: string;\n    description: string;\n    is_active: boolean\n}\n\nexport interface CastMember extends Timestampable{\n    readonly id: string;\n    name: string;\n    type: number\n}\n\nexport const CastMemberTypeMap = {\n    1: 'Diretor',\n    2: 'Ator'\n};\n\nexport interface Genre extends Timestampable{\n    readonly id: string;\n    name: string;\n    is_active: boolean;\n    categories: Category[]\n}\n\ninterface GenreVideo extends Omit<Genre, 'categories'> {\n\n}\n\nexport const VideoFileFieldsMap = {\n    'thumb_file': 'Thumbnail',\n    'banner_file': 'Banner',\n    'trailer_file': 'Trailer',\n    'video_file': 'Principal'\n}\n\nexport interface Video extends Timestampable {\n    readonly id: string;\n    title: string;\n    description: string;\n    year_launched: string;\n    opened: boolean;\n    rating: string;\n    duration: number;\n    genres: GenreVideo[];\n    categories: Category[];\n    cast_members: CastMember[];\n    thumb_file_url: string;\n    banner_file_url: string;\n    trailer_file_url: string;\n    video_file_url: string;\n}","import * as React from 'react';\nimport {useEffect, useRef, useState} from 'react';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Link } from 'react-router-dom';\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport { CastMember, CastMemberTypeMap, ListResponse } from '../../util/models';\nimport { useSnackbar } from 'notistack';\nimport useFilter from '../../hooks/useFilter';\nimport * as yup from '../../util/vendor/yup';\nimport { State } from '../../store/filter/types';\nimport { invert } from 'lodash';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\n\nconst columnsDefinitions: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: \"30%\",\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"43%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"type\",\n        label: \"Tipo\",\n        width: \"4%\",\n        options: {\n            customBodyRender(value, tableMeta, updateValue) {\n                return CastMemberTypeMap[value];\n            },\n            filterOptions: {\n                names: castMemberNames\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: \"10%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n            return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"action\",\n        label: \"Aes\",\n        width: \"13%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                console.log(tableMeta);\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/cast_members/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon />\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n// const data = [\n//     { name: \"teste1\", is_active: true, created_at: \"2019-12-12\"},\n//     { name: \"teste2\", is_active: false, created_at: \"2019-12-13\"},\n//     { name: \"teste3\", is_active: true, created_at: \"2019-12-14\"},\n//     { name: \"teste4\", is_active: false, created_at: \"2019-12-15\"}\n// ];\nconst rowPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<CastMember[]>([]);\n    const [loading, setLoading] = useState<boolean>(false);\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n\n    const {\n            columns,\n            filterManager,\n            filterState,\n            debouncedFilterState,\n            //dispatch,\n            totalRecords,\n            setTotalRecords\n        } = useFilter({\n            columns: columnsDefinitions,\n            debounceTime: 300,\n            rowPerPage,\n            rowsPerPageOptions,\n            tableRef,\n            extraFilter: {\n                createValidationSchema: () => {\n                    return yup.object().shape({\n                        type: yup.string()\n                            .nullable()\n                            .transform(value => {\n                                return !value || !castMemberNames.includes(value) ? undefined : value;\n                            })\n                            .default(null)\n                    })\n                },\n                formatSearchParams: (debouncedState: State) => {\n                    return debouncedState.extraFilter ? {\n                        ...(\n                            debouncedState.extraFilter.type &&\n                            {type: debouncedState.extraFilter.type}\n                        )\n                    } : undefined\n                },\n                getStateFromURL: (queryParams) => {\n                    return {\n                        type: queryParams.get('type')\n                    }\n                }\n            }\n        });\n        \n    const indexColumnType = columns.findIndex(c => c.name === 'type');\n    const columnType = columns[indexColumnType];\n    const typeFilterValue = filterState.extraFilter && filterState.extraFilter.type as never;\n    (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue] : [];\n\n    // const serverSideFilterList = columns.map(column => []);\n    // if (typeFilterValue) {\n    //     serverSideFilterList[indexColumnType] = [typeFilterValue];\n    // }\n\n    useEffect(() => {\n        async function getData() {\n            setLoading(true);\n            try {\n                const {data} = await castMemberHttp.list<ListResponse<CastMember>>({\n                    queryParams: {\n                        search: filterManager.clearSearchText(filterState.search),\n                        page: filterState.pagination.page,\n                        per_page: filterState.pagination.per_page,\n                        sort: filterState.order.sort,\n                        dir: filterState.order.dir,\n                        ...(\n                            debouncedFilterState.extraFilter &&\n                            debouncedFilterState.extraFilter.type &&\n                            {type: invert(CastMemberTypeMap)[debouncedFilterState.extraFilter.type]}\n                        )\n                    }\n                });\n                if (subscribed.current) {\n                    setData(data.data);\n                    setTotalRecords(data.meta.total);    \n                }\n            }\n            catch (error) {\n                console.log(error);\n                if (castMemberHttp.isCancelledRequest(error)) {\n                    return;\n                }\n                snackbar.enqueueSnackbar(\n                    'No foi possvel buscar os membros de elenco',\n                    {variant: 'error'}\n                );\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    },\n    // eslint-disable-next-line\n    [\n        // eslint-disable-next-line\n        filterManager.clearSearchText(debouncedFilterState.search),\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        // eslint-disable-next-line\n        JSON.stringify(debouncedFilterState.extraFilter)\n    ]);\n\n\n    // useEffect(() => {\n    //     httpVideo.get('cast_members').then(\n    //         response => setData(response.data.data)\n    //     )\n    // }, []);\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                ref={tableRef}\n                options={{\n                    //serverSideFilterList,\n                    serverSide: true,\n                    responsive: 'standard',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column: string, filterList: any, type) => {\n                        const columnIndex = columns.findIndex(c => c.name === column);\n                        filterManager.changeExtraFilter({\n                            [column]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    onRowsDelete: (rowsDeleted) => {\n                        const idsToDelete = rowsDeleted.data.map(d => data[d.dataIndex].id);\n                        castMemberHttp.delete(idsToDelete);\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page)  => filterManager.changePage(page),\n                    onChangeRowsPerPage: (per_page)  => filterManager.changeRowsPerPage(per_page),\n                    onColumnSortChange: (changedColumn: string, direction: string) => \n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from './Table';\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de membros de elencos\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar membro de elenco\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/cast_members/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import { Box, Button, FormControl, FormControlLabel, FormHelperText, FormLabel, makeStyles, Radio, RadioGroup, TextField, Theme } from '@material-ui/core';\nimport {ButtonProps} from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from '../../util/vendor/yup';\nimport { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router';\nimport { useSnackbar } from 'notistack';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        submit: {\n            margin: theme.spacing(1)\n        }\n    }\n});\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .label(\"Nome\")\n        .required()\n        .max(255),\n    type: yup.number()\n        .label(\"Tipo\")\n        .required()\n});\n\nexport const Form = () => {\n\n    const {register, handleSubmit, getValues, setValue, errors, reset, watch, formState} = useForm({resolver: yupResolver(validationSchema)});\n\n    const classes = useStyles();\n    const snackbar = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [castMember, setCastMember] = useState<{id: string} | null>(null);\n    const [loading, setLoading] = useState<boolean>(false);\n\n    const buttonProps: ButtonProps = {\n        className: classes.submit,\n        color: \"secondary\",\n        variant: \"contained\",\n        disabled: loading\n    };\n    useSnackbarFormError(formState.submitCount, errors);\n\n    useEffect(() =>{\n        if (!id)\n            return;\n\n        async function getCastMember() {\n            setLoading(true);\n            try {\n                const {data} = await castMemberHttp.get(id);\n                setCastMember(data.data);\n                reset(data.data);\n            } catch (error) {\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    \"No foi possvel carregar as informaes\",\n                    {variant: \"error\"}\n                )\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        getCastMember();\n    },\n    // eslint-disable-next-line \n    []);\n\n    useEffect(() => {\n        register({name: \"type\"})\n    }, [register]);\n\n    async function onSubmit(formData, event) {\n        setLoading(true);\n        try {\n            const http = !castMember\n            ? castMemberHttp.create(formData)\n            : castMemberHttp.update(castMember.id, formData);\n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Membro de elenco salvo com sucesso',\n                {variant: 'success'}\n            );\n            setTimeout(() => {\n                event ? (\n                    id ? history.replace(`/cast_members/${data.data.id}/edit`) :\n                    history.push(`/cast_members/${data.data.id}/edit`)\n                ) : history.push('/cast_members')\n            });\n        } catch (error) {\n            console.log(error);\n            snackbar.enqueueSnackbar(\n                'No foi possvel salvar o membro de elenco',\n                {variant: 'error'}\n            );\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: true}}\n            />\n            <FormControl\n                margin={\"normal\"}\n                disabled={loading}\n                error={errors.type !== undefined}\n            >\n                <FormLabel component=\"legend\">Tipo</FormLabel>\n                <RadioGroup\n                    name=\"type\"\n                    onChange={(e) => {\n                        setValue('type', parseInt(e.target.value));\n                    }}\n                    value={watch('type') + \"\"}\n                >\n                    <FormControlLabel value=\"1\" control={<Radio color={\"primary\"}/>} label=\"Diretor\"/>\n                    <FormControlLabel value=\"2\" control={<Radio color={\"primary\"}/>} label=\"Ator\"/>\n                </RadioGroup>\n                {\n                    errors.type && <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\n                }\n            </FormControl>\n            <Box dir=\"rtl\">\n                <Button {...buttonProps} onClick={() => onSubmit(getValues(), null)}>Salvar</Button>\n                <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\n            </Box>\n        </form>\n    );\n}","import * as React from 'react';\nimport {Form} from \"./Form\";\nimport {Page} from \"../../components/Page\";\nimport { useParams } from 'react-router';\n\nconst PageForm = () => {\n    const {id} = useParams();\n    return (\n        <Page title={!id ? \"Criar membros de elenco\" : \"Editar membros de elenco\"}>\n            <Form/>\n        </Page>\n    )\n}\n\nexport default PageForm;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst genreHttp = new HttpResource(httpVideo, \"genres\");\nexport default genreHttp;","import * as React from 'react';\nimport {useEffect, useRef, useState} from 'react';\n//import MUIDataTable from 'mui-datatables';\n//import {httpVideo} from \"../../util/http\";\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport DefaultTable, { makeActionStyles, MuiDataTableRefComponent, TableColumn } from '../../components/Table';\nimport { Link } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { BadgeNo, BadgeYes } from '../../components/Badge';\nimport genreHttp from '../../util/http/genre-http';\nimport { Category, Genre, ListResponse } from '../../util/models';\nimport { useSnackbar } from 'notistack';\nimport useFilter from '../../hooks/useFilter';\nimport * as yup from '../../util/vendor/yup';\nimport categoryHttp from '../../util/http/category-http';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\n\nconst columnsDefinitions: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: \"30%\",\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"23%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"is_active\",\n        label: \"Ativo?\",\n        width: \"4%\",\n        options: {\n            filter: false,\n            // filterOptions: {\n            //     names: ['Sim', 'No']\n            // },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>;\n            }\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categorias\",\n        width: \"20%\",\n        options: {\n            filterType: \"multiselect\",\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map(value => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: \"10%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n            return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"action\",\n        label: \"Aes\",\n        width: \"13%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/genres/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon />\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n// const data = [\n//     { name: \"teste1\", is_active: true, created_at: \"2019-12-12\"},\n//     { name: \"teste2\", is_active: false, created_at: \"2019-12-13\"},\n//     { name: \"teste3\", is_active: true, created_at: \"2019-12-14\"},\n//     { name: \"teste4\", is_active: false, created_at: \"2019-12-15\"}\n// ];\nconst rowPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Genre[]>([]);\n    const [loading, setLoading] = useState<boolean>(false);\n    // eslint-disable-next-line\n    const [categories, setCategories] = useState<Category[]>();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n\n    const {\n            columns,\n            filterManager,\n            filterState,\n            debouncedFilterState,\n            //dispatch,\n            totalRecords,\n            setTotalRecords\n        } = useFilter({\n            columns: columnsDefinitions,\n            debounceTime: 300,\n            rowPerPage,\n            rowsPerPageOptions,\n            tableRef,\n            extraFilter: {\n                createValidationSchema: () => {\n                    return yup.object().shape({\n                        categories: yup.mixed()\n                            .nullable()\n                            .transform(value => {\n                                return !value || value === '' ? undefined : value.split(',');\n                            })\n                            .default(null)\n                    })\n                },\n                formatSearchParams: (debouncedState) => {\n                    return debouncedState.extraFilter ? {\n                        ...(\n                            debouncedState.extraFilter.categories &&\n                            {categories: debouncedState.extraFilter.categories.join(',')}\n                        )\n                    } : undefined\n                },\n                getStateFromURL: (queryParams) => {\n                    return {\n                        categories: queryParams.get('categories')\n                    }\n                }\n            }\n        });\n\n    const indexColumnCategories = columns.findIndex(c => c.name === 'categories');\n    const columnCategories = columns[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n    (columnCategories.options as any).filterList = categoriesFilterValue ? categoriesFilterValue : [];\n\n    // const serverSideFilterList = columns.map(column => []);\n    // if (categoriesFilterValue) {\n    //     serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n    // }\n\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () => {\n            try {\n                const {data} = await categoryHttp.list({queryParams: {all: ''}});\n                if (isSubscribed) {\n                    setCategories(data.data);\n                    (columnCategories.options as any).filterOptions.names = data.data.map(category => category.name);\n                }\n            }\n            catch (error) {\n                console.log(error);\n                snackbar.enqueueSnackbar(\n                    'No foi possvel carregar as informaes',\n                    {variant: 'error'}\n                );\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n    },\n    // eslint-disable-next-line \n    []);\n\n    useEffect(() => {\n        async function getData() {\n            setLoading(true);\n            try {\n                const {data} = await genreHttp.list<ListResponse<Genre>>({\n                    queryParams: {\n                        search: filterManager.clearSearchText(filterState.search),\n                        page: filterState.pagination.page,\n                        per_page: filterState.pagination.per_page,\n                        sort: filterState.order.sort,\n                        dir: filterState.order.dir,\n                        categories: filterState.extraFilter?.categories?.join(',')\n                    }\n                });\n                if (subscribed.current) {\n                    setData(data.data);\n                    setTotalRecords(data.meta.total);\n                }\n            }\n            catch (error) {\n                console.log(error);\n                if (genreHttp.isCancelledRequest(error)) {\n                    return;\n                }\n                snackbar.enqueueSnackbar(\n                    'No foi possvel buscar os gneros',\n                    {variant: 'error'}\n                );\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    },\n    // eslint-disable-next-line\n    [\n        // eslint-disable-next-line\n        filterManager.clearSearchText(debouncedFilterState.search),\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        debouncedFilterState.extraFilter\n    ]);\n    \n    // useEffect(() => {\n    //     httpVideo.get('genres').then(\n    //         response => setData(response.data.data)\n    //     )\n    // }, []);\n\n    return (\n        // <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\n        //     <MUIDataTable\n        //         title=\"Listagem de categorias\"\n        //         columns={columnsDefinitions}\n        //         data={data}\n        //         options={{\n        //             onRowsDelete: (rowsDeleted) => {\n        //                 const idsToDelete = rowsDeleted.data.map(d => data[d.dataIndex].id);\n        //                 genreHttp.delete(idsToDelete);\n        //             }\n        //         }}\n        //     />\n        // </MuiThemeProvider>\n\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    responsive: 'standard',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column: string, filterList: any, type) => {\n                        const columnIndex = columns.findIndex(c => c.name === column);\n                        filterManager.changeExtraFilter({\n                            [column]: filterList[columnIndex].length ? filterList[columnIndex] : null\n                        })\n                    },\n                    onRowsDelete: (rowsDeleted) => {\n                        const idsToDelete = rowsDeleted.data.map(d => data[d.dataIndex].id);\n                        genreHttp.delete(idsToDelete);\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page)  => filterManager.changePage(page),\n                    onChangeRowsPerPage: (per_page)  => filterManager.changeRowsPerPage(per_page),\n                    onColumnSortChange: (changedColumn: string, direction: string) => \n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from './Table';\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de gneros\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar gnero\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/genres/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import { Box, Button, makeStyles, MenuItem, TextField, Theme } from '@material-ui/core';\nimport {ButtonProps} from '@material-ui/core/Button';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport categoryHttp from '../../util/http/category-http';\nimport genreHttp from '../../util/http/genre-http';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from '../../util/vendor/yup';\nimport { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router';\nimport { useSnackbar } from 'notistack';\nimport useSnackbarFormError from '../../hooks/useSnackbarFormError';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        submit: {\n            margin: theme.spacing(1)\n        }\n    }\n});\n\nconst validationSchema = yup.object().shape({\n    name: yup.string()\n        .label(\"Nome\")\n        .required()\n        .max(255),\n    categories_id: yup.array()\n        .label(\"Categorias\")\n        .required()\n});\n\n\nexport const Form = () => {\n\n    const {register, handleSubmit, getValues, setValue, watch, errors, reset, formState} = useForm({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            name: '',\n            categories_id: []\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const classes = useStyles();\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [genre, setGenre] = useState<{id: string} | null>(null);\n    const [categories, setCategories] = useState<any[]>([]);\n    const [loading, setLoading] = useState<boolean>(false);\n\n    const buttonProps: ButtonProps = {\n        className: classes.submit,\n        color: \"secondary\",\n        variant: \"contained\",\n        disabled: loading\n    };\n\n    useEffect(() => {\n        register({name: \"categories_id\"})\n    }, [register]);\n\n    // useEffect(() => {\n    //     categoryHttp\n    //         .list()\n    //         .then(({data}) => setCategories(data.data))\n    // }, []);\n\n    useEffect(() => {\n        async function loadData() {\n            setLoading(true);\n            const promises = [categoryHttp.list({queryParams: {all: \"\"}})];\n            if (id) {\n                promises.push(genreHttp.get(id));\n            }\n            try {\n                const [categoriesResponse, genreResponse] = await Promise.all(promises);\n                setCategories(categoriesResponse.data.data);\n                if (id) {\n                    setGenre(genreResponse.data.data);\n                    reset({\n                        ...genreResponse.data.data,\n                        categories_id: genreResponse.data.data.categories.map(category => category.id)\n                    });\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    \"No foi possvel carregar as informaes\",\n                    {variant: \"error\"}\n                )\n            } finally {\n                setLoading(false);\n            }\n        }\n        \n        loadData();\n    }, [id, reset, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        setLoading(true);\n        try {\n            const http = !genre\n                ? genreHttp.create(formData)\n                : genreHttp.update(genre.id, formData);\n            const {data} = await http;\n            enqueueSnackbar(\n                'Gnero salvo com sucesso',\n                {variant: 'success'}\n            );\n            setTimeout(() => {\n                event ? (\n                    id ? history.replace(`/genres/${data.data.id}/edit`) :\n                    history.push(`/genres/${data.data.id}/edit`)\n                ) : history.push('/genres')\n            });\n        } catch (error) {\n            console.log(error);\n            enqueueSnackbar(\n                'No foi possvel salvar o gnero',\n                {variant: 'error'}\n            );\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    // function onSubmit(formData, event) {\n    //     genreHttp\n    //         .create(formData)\n    //         .then((response) => console.log(response));\n    // }\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: true}}\n            />\n            <TextField\n                select\n                name=\"categories_id\"\n                value={watch('categories_id')}\n                label=\"Categories\"\n                margin=\"normal\"\n                variant=\"outlined\"\n                fullWidth\n                onChange={e => \n                    setValue(\"categories_id\", e.target.value as any)\n                }\n                SelectProps={{multiple: true}}\n                disabled={loading}\n                error={errors.categories_id !== undefined}\n                //helperText={errors.categories_id && errors.categories_id.message}\n                InputLabelProps={{shrink: true}}\n            >\n                <MenuItem value=\"\" disabled>\n                    <em>Selecione categorias</em>\n                </MenuItem>\n                {\n                    categories.map(\n                        (category, key) => (\n                            <MenuItem key={key} value={category.id}>{category.name}</MenuItem>\n                        )\n                    )\n                }\n            </TextField>\n            <Box dir=\"rtl\">\n                <Button {...buttonProps} onClick={() => onSubmit(getValues(), null)}>Salvar</Button>\n                <Button {...buttonProps} type=\"submit\">Salvar e continuar editando</Button>\n            </Box>\n        </form>\n    );\n}","import * as React from 'react';\nimport {Form} from \"./Form\";\nimport {Page} from \"../../components/Page\";\nimport { useParams } from 'react-router';\n\nconst PageForm = () => {\n    const {id} = useParams();\n    return (\n        <Page title={!id ? \"Criar gnero\" : \"Editar gnero\"}>\n            <Form/>\n        </Page>\n    )\n}\n\nexport default PageForm;","import { httpVideo } from \".\";\nimport HttpResource from \"./http-resource\";\n\nconst videoHttp = new HttpResource(httpVideo, \"videos\");\nexport default videoHttp;","import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport * as React from 'react';\n\ninterface DeleteDialogProps{\n    open: boolean;\n    handleClose: (confirmed: boolean) => void;    \n}\n\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n\n    const {open, handleClose} = props;\n\n    return (\n        <Dialog\n            open={open}\n            onClose={() => handleClose(false)}\n        >\n            <DialogTitle>\n                Excluso de registros\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Deseja realmente excluir este(s) registro(s)?\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => handleClose(false)} color=\"primary\">\n                    Cancelar\n                </Button>\n                <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\n                    Excluir\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteDialog;","import { useEffect, useState } from \"react\"\n\nconst useDeleteCollection = () => {\n    const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n    const [rowsToDelete, setRowsToDelete] = useState<{ data: Array<{ index, dataIndex }> }>({data: []});\n\n    useEffect(() => {\n        if (rowsToDelete.data.length) {\n            setOpenDeleteDialog(true);\n        }\n    }, [rowsToDelete]);\n\n    return {\n        openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete\n    }\n};\n\nexport default useDeleteCollection;","import { createContext } from \"react\";\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;","import * as React from 'react';\nimport {useContext, useEffect, useRef, useState} from 'react';\nimport format from 'date-fns/format';\nimport parseISO from 'date-fns/parseISO';\nimport { ListResponse, Video } from '../../util/models';\nimport DefaultTable, { makeActionStyles, TableColumn, MuiDataTableRefComponent } from '../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport { IconButton, MuiThemeProvider } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { FilterResetButton } from '../../components/Table/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport videoHttp from '../../util/http/video-http';\nimport DeleteDialog from '../../components/DeleteDialog';\nimport useDeleteCollection from '../../hooks/useDeleteCollection';\nimport LoadingContext from '../../components/Loading/LoadingContext';\n\nconst columnsDefinitions: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"ID\",\n        width: \"30%\",\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"title\",\n        label: \"Ttulo\",\n        width: \"20%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"genres\",\n        label: \"Gneros\",\n        width: \"13%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map(value => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categorias\",\n        width: \"12%\",\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map(value => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: \"10%\",\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n            return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"action\",\n        label: \"Aes\",\n        width: \"13%\",\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/videos/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon />\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n\nconst rowPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Video[]>([]);\n    const loading = useContext(LoadingContext);\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete} = useDeleteCollection();\n    const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n\n    const {\n            columns,\n            filterManager,\n            filterState,\n            debouncedFilterState,\n            totalRecords,\n            setTotalRecords\n        } = useFilter({\n            columns: columnsDefinitions,\n            debounceTime: 300,\n            rowPerPage,\n            rowsPerPageOptions,\n            tableRef\n        });   \n\n    async function getData() {\n        try {\n            const {data} = await videoHttp.list<ListResponse<Video>>({\n                queryParams: {\n                    search: filterManager.clearSearchText(filterState.search),\n                    page: filterState.pagination.page,\n                    per_page: filterState.pagination.per_page,\n                    sort: filterState.order.sort,\n                    dir: filterState.order.dir\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if(openDeleteDialog)\n                    setOpenDeleteDialog(false);\n            }\n        }\n        catch (error) {\n            if (videoHttp.isCancelledRequest(error)) {\n                return;\n            }\n            snackbar.enqueueSnackbar(\n                'No foi possvel buscar os vdeos',\n                {variant: 'error'}\n            );\n        }\n    }\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    },\n    // eslint-disable-next-line\n    [\n        // eslint-disable-next-line\n        filterManager.clearSearchText(debouncedFilterState.search),\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order\n    ]);\n\n    function deleteRows(confirmed: boolean) {\n        if (!confirmed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n\n        const ids = rowsToDelete\n            .data\n            .map((value) => data[value.index].id)\n            .join(',');\n        videoHttp\n            .deleteCollection({ids})\n            .then(response => {\n                snackbar.enqueueSnackbar(\n                    'Registros excludos com sucesso',\n                    {variant: 'success'}\n                );\n                if (\n                    rowsToDelete.data.length === filterState.pagination.per_page\n                    && filterState.pagination.page > 1\n                ) {\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page);\n                }\n                else\n                    getData();\n            })\n            .catch((error) => {\n                snackbar.enqueueSnackbar(\n                    'No foi possvel excluir os registros',\n                    {variant: 'error'}\n                )\n            })\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinitions.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                ref={tableRef}\n                options={{\n                    serverSide: true,\n                    responsive: 'standard',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    // onRowsDelete: (rowsDeleted) => {\n                    //     const idsToDelete = rowsDeleted.data.map(d => data[d.dataIndex].id);\n                    //     videoHttp.delete(idsToDelete);\n                    // },\n                    onRowsDelete: (rowsDeleted) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => filterManager.resetFilter()}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page)  => filterManager.changePage(page),\n                    onChangeRowsPerPage: (per_page)  => filterManager.changeRowsPerPage(per_page),\n                    onColumnSortChange: (changedColumn: string, direction: string) => \n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import { Box, Fab } from '@material-ui/core';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Page } from '../../components/Page';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from './Table';\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de vdeos\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar vdeo\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    component={Link}\n                    to=\"/videos/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import { makeStyles, Typography } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '36px',\n        height: '36px',\n        fontSize: '1.2em',\n        color: '#fff',\n        borderRadius: '4px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n    }\n});\n\nconst backgroundColors = {\n    'L': '#398549',\n    '10': '#20A3D4',\n    '12': '#E79738',\n    '14': '#E35E00',\n    '16': '#D00003',\n    '18': '#000000'\n};\n\ninterface RatingProps {\n    rating: 'L' | '10' | '12' | '14' | '16' | '18'\n}\n\nexport const Rating: React.FC<RatingProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Typography\n            className={classes.root}\n            style={{\n                backgroundColor: backgroundColors[props.rating]\n            }}\n            >\n                {props.rating}\n            </Typography>\n    );\n};\n\nexport default Rating;","import { Box, FormControl, FormControlLabel, FormControlLabelProps, FormControlProps, FormHelperText, FormLabel, Radio, RadioGroup } from '@material-ui/core';\nimport * as React from 'react';\nimport Rating from '../../../components/Rating';\n\ninterface RatingFieldProps {\n    value: string;\n    setValue: (value) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nconst ratings:FormControlLabelProps[] = [\n    {value: \"L\", control: <Radio color=\"primary\" />, label: <Rating rating={'L'} />, labelPlacement:\"top\" },\n    {value: \"10\", control: <Radio color=\"primary\" />, label: <Rating rating={'10'} />, labelPlacement:\"top\" },\n    {value: \"12\", control: <Radio color=\"primary\" />, label: <Rating rating={'12'} />, labelPlacement:\"top\" },\n    {value: \"14\", control: <Radio color=\"primary\" />, label: <Rating rating={'14'} />, labelPlacement:\"top\" },\n    {value: \"16\", control: <Radio color=\"primary\" />, label: <Rating rating={'16'} />, labelPlacement:\"top\" },\n    {value: \"18\", control: <Radio color=\"primary\" />, label: <Rating rating={'18'} />, labelPlacement:\"top\" }\n];\n\nexport const RatingField: React.FC<RatingFieldProps> = (props) => {\n    const { value, setValue, disabled, error } = props;\n    return (\n        <FormControl\n                disabled={disabled === true}\n                error={error !== undefined}\n                {...props.FormControlProps}\n            >\n                <FormLabel component=\"legend\">Classificao</FormLabel>\n                <Box paddingTop={1}>\n                    <RadioGroup\n                        name=\"rating\"\n                        onChange={(e) => {\n                            setValue(e.target.value);\n                        }}\n                        value={value}\n                        row\n                    >\n                        {\n                            ratings.map(\n                                (ratingProps, key) => <FormControlLabel key={key} {...ratingProps} />\n                            )\n                        }\n                    </RadioGroup>\n                </Box>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n    );\n};","import { InputAdornment, TextField, TextFieldProps } from '@material-ui/core';\n//import CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport * as React from 'react';\nimport { MutableRefObject, RefAttributes, useImperativeHandle, useRef, useState } from 'react';\n\nexport interface InputFileProps extends RefAttributes<InputFileComponent> {\n    ButtonFile: React.ReactNode;\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n    TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n    clear(): void;\n    openWindow: () => void;\n}\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [fileName, setFileName] = useState(\"\");\n\n    const textFieldProps: TextFieldProps = {\n        variant: 'outlined',\n        ...props.TextFieldProps,\n        InputProps: {\n            ...(\n                props.TextFieldProps && props.TextFieldProps.InputProps &&\n                {...props.TextFieldProps.InputProps}\n            ),\n            readOnly: true,\n            endAdornment: (\n                <InputAdornment position={'end'}>\n                    {props.ButtonFile}\n                </InputAdornment>\n            )\n        },\n        value: fileName\n    };\n\n    const inputFileProps = {\n        ...props.InputFileProps,\n        hidden: true,\n        ref: fileRef,\n        onChange(event) {\n            const files = event.target.files;\n            if (files.length) {\n                setFileName(Array.from(files).map((file: any) => file.name).join(', '));\n            }\n            if (props.InputFileProps && props.InputFileProps.onChange) {\n                props.InputFileProps.onChange(event);\n            }\n        }\n    };\n\n    useImperativeHandle(ref, () => ({\n        clear: () => setFileName(\"\"),\n        openWindow: () => fileRef.current.click()\n    }));\n\n    return (\n        <>\n            <input type=\"file\" {...inputFileProps}/>\n            <TextField {...textFieldProps}/>\n        </>\n    );\n});\n\nexport default InputFile;","import { Button, FormControl, FormControlProps, FormHelperText } from '@material-ui/core';\nimport * as React from 'react';\nimport InputFile, { InputFileComponent } from '../../../components/InputFile';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport { MutableRefObject, useImperativeHandle, useRef } from 'react';\n\ninterface UploadFieldProps {\n    accept: string;\n    label: string;\n    setValue: (value) => void;\n    error?: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nexport interface UploadFieldComponent {\n    clear: () => void;\n}\n\nexport const UploadField = React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>;\n    const { accept, label, setValue, disabled, error } = props;\n\n    useImperativeHandle(ref, () => ({\n        clear: () => fileRef.current.clear()\n    }));\n\n    return (\n        <FormControl\n            disabled={disabled === true}\n            error={error !== undefined}\n            fullWidth\n            margin={'normal'}\n            {...props.FormControlProps}\n        >\n            <InputFile\n                ref={fileRef}\n                TextFieldProps={{\n                    label,\n                    InputLabelProps: {shrink: true},\n                    style: {backgroundColor: \"#ffffff\"}\n                }}\n                InputFileProps={{\n                    accept,\n                    onChange(event) {\n                        event.target.files?.length &&\n                            setValue(event.target.files[0])\n                    }\n                }}\n                ButtonFile={\n                    <Button\n                        endIcon={<CloudUploadIcon/>}\n                        variant={'contained'}\n                        color={'primary'}\n                        onClick={() => fileRef.current.openWindow()}\n                    >\n                        Adicionar\n                    </Button>\n                }\n            />\n            {\n                error && <FormHelperText>{error.message}</FormHelperText>\n            }\n        </FormControl>\n    );\n});","import * as React from 'react';\nimport { CircularProgress, Omit, TextField, TextFieldProps } from '@material-ui/core';\nimport { Autocomplete, AutocompleteProps, UseAutocompleteSingleProps } from '@material-ui/lab';\nimport { useEffect, useImperativeHandle, useState } from 'react';\nimport { useDebounce } from 'use-debounce/lib';\n\ninterface AsyncAutocomploteProps {\n    fetchOptions: (searchText) => Promise<any>;\n    debounceTime?: number;\n    TextFieldProps?: TextFieldProps;\n    AutocompleteProps?: Omit<AutocompleteProps<any>, \"renderInput\"> & UseAutocompleteSingleProps<any>;\n}\n\nexport interface AsyncAutocompleteComponent {\n    clear: () => void;\n}\n\nconst AsyncAutocomplete = React.forwardRef<AsyncAutocompleteComponent, AsyncAutocomploteProps>((props, ref) => {\n\n    const {AutocompleteProps, debounceTime = 300, fetchOptions} = props;\n    const {freeSolo, onClose, onOpen, onInputChange} = AutocompleteProps as any;\n    const [open, setOpen] = useState(false);\n    const [searchText, setSearchText] = useState(\"\");\n    const [debouncedSearchText] = useDebounce(searchText, debounceTime);\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState([]);\n\n    const textFieldProps: TextFieldProps = {\n        margin: 'normal',\n        variant: 'outlined',\n        fullWidth: true,\n        InputLabelProps: {shrink: true},\n        ...(props.TextFieldProps && {...props.TextFieldProps})\n    };\n\n    const autocompleteProps: AutocompleteProps<any> = {\n        loadingText: \"Carregando...\",\n        noOptionsText: \"Nenhum item encontrado\",\n        ...(props.AutocompleteProps && {...props.AutocompleteProps}),\n        open,\n        options,\n        loading,\n        inputValue: searchText,\n        onOpen() {\n            setOpen(true);\n            onOpen && onOpen();\n        },\n        onClose() {\n            setOpen(false);\n            onClose && onClose();\n        },\n        onInputChange(event, value) {\n            setSearchText(value);\n            onInputChange && onInputChange();\n        },\n        renderInput: params => {\n            return <TextField\n                {...params}\n                {...textFieldProps}\n                InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                        <>\n                            {loading && <CircularProgress color={\"inherit\"} size={20}/>}\n                            {params.InputProps.endAdornment}\n                        </>\n                    )\n                }}\n            />\n        }\n    };\n\n    useEffect(() => {\n        if(!open && !freeSolo)\n            setOptions([]);\n    }, [open, freeSolo]);\n\n    useEffect(() => {\n        if(!open || (debouncedSearchText === \"\" && freeSolo))\n            return;\n\n        let isSubscribed = true;\n        (async () => {\n            setLoading(true);\n            try {\n                const data = await fetchOptions(debouncedSearchText);\n                if (isSubscribed) {\n                    setOptions(data);\n                }\n            } finally {\n                setLoading(false);\n            }\n        })();\n        \n        return () => {\n            isSubscribed = false;\n        }\n    }, [freeSolo, debouncedSearchText, open, fetchOptions]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => {\n            setSearchText(\"\");\n            setOptions([]);\n        }\n    }));\n\n    return (\n        <Autocomplete {...autocompleteProps}/>\n    );\n});\n\nexport default AsyncAutocomplete;","import { createStyles, Grid, GridProps, makeStyles, Theme } from '@material-ui/core';\nimport * as React from 'react';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            backgroundColor: '#f1f1f1',\n            borderRadius: '4px',\n            padding: theme.spacing(1, 1),\n            color: theme.palette.secondary.main\n        }\n    })\n);\n\ninterface GridSelectedProps extends GridProps {\n    \n}\n\nexport const GridSelected: React.FC<GridSelectedProps> = (props) => {\n    const classes = useStyles();\n    return <Grid container wrap={\"wrap\"} className={classes.root} {...props}>\n        {props.children}\n    </Grid>\n};\n\nexport default GridSelected;","import { Grid, GridProps, IconButton } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport * as React from 'react';\n\ninterface GridSelectedItemProps extends GridProps {\n    onDelete: () => void;\n}\n\nexport const GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n    const { onDelete, children, ...other } = props;\n    return <Grid item {...other}>\n        <Grid container alignItems={\"center\"} spacing={3}>\n            <Grid item xs={1}>\n                <IconButton size={\"small\"} color={\"inherit\"} onClick={onDelete}>\n                    <DeleteIcon />\n                </IconButton>\n            </Grid>\n            <Grid item xs={10} md={11}>\n                {children}\n            </Grid>\n        </Grid>\n    </Grid>;\n};\n\nexport default GridSelectedItem;","import { useSnackbar } from \"notistack\";\n\nconst useCollectionManager = (collection: any[], setCollection: (value) => void) => {\n    const snackbar = useSnackbar();\n    return {\n        addItem(item){\n            if (!item || item === \"\")\n                return;\n\n            const exists = collection.find(i => i.id === item.id);\n            if (exists) {\n                snackbar.enqueueSnackbar(\"Item j adicionado\", {variant: \"info\"});\n                return;\n            }\n\n            collection.unshift(item);\n            setCollection(collection);\n        },\n        removeItem(item){\n            const index = collection.find(i => i.id === item.id);\n            if (index === -1) {\n                return;\n            }\n\n            collection.splice(index, 1);\n            setCollection(collection);\n        }\n    }\n};\n\nexport default useCollectionManager;","import { useSnackbar } from \"notistack\";\nimport axios from \"axios\";\nimport { useCallback } from \"react\";\n\nconst useHttpHandle = () => {\n    const {enqueueSnackbar} = useSnackbar();\n    return useCallback(async (request: Promise<any>) => {\n        try {\n            const {data} = await request;\n            return data;\n        } catch (e) {\n            if (!axios.isCancel(e)){\n                enqueueSnackbar(\"No foi possvel carregar as informaes\", {variant: \"error\"});\n            }\n            throw e;\n        }\n    }, [enqueueSnackbar]);\n};\n\nexport default useHttpHandle;","import { Category, Genre } from \"./models\";\n\nexport function getGenresFromCategory(genres: Genre[], category: Category) {\n    return genres.filter(\n        genre => genre.categories.filter(cat => cat.id === category.id).length !== 0\n    )    \n}","import { FormControl, FormControlProps, FormHelperText, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport { MutableRefObject, useImperativeHandle, useRef } from 'react';\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandle from '../../../hooks/useHttpHandle';\nimport genreHttp from '../../../util/http/genre-http';\nimport { getGenresFromCategory } from '../../../util/model-filters';\n\ninterface GenreFieldProps {\n    genres: any[];\n    setGenres: (genres) => void;\n    categories: any[];\n    setCategories: (categories) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface GenreFieldComponent {\n    clear: () => void;\n}\n\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps>((props, ref) => {\n    const {\n        genres,\n        setGenres,\n        categories,\n        setCategories,\n        error,\n        disabled\n    } = props;\n    const {addItem, removeItem} = useCollectionManager(genres, setGenres);\n    const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\n    const autocompleteHttp = useHttpHandle();\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n\n    function fetchOptions(searchText) {\n        return autocompleteHttp(\n            genreHttp.list({\n                queryParams: {\n                    search: searchText, all: \"\"\n                }\n            })\n        ).then(data => data.data)\n    }\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    onChange: (event, value) => addItem(value)\n                }}\n                TextFieldProps={{\n                    label: \"Gneros\",\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{height: '24px'}}>\n                Escolha os gneros do vdeos\n            </FormHelperText>\n            <FormControl\n                margin={'normal'}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        genres.map((genre, key) => (\n                            <GridSelectedItem\n                                key={key}\n                                onDelete={() => {\n                                    const categoriesWithOneGenre = categories.filter(category => {\n                                        const genresFromCategory = getGenresFromCategory(genres, category);\n                                        return genresFromCategory.length === 1 && genres[0].id === genre.id;\n                                    });\n                                    categoriesWithOneGenre.forEach(cat => removeCategory(cat));\n                                    removeItem(genre);\n                                }}\n                                xs={12}>\n                                <Typography noWrap={true}>{genre.name}</Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default GenreField;","import { FormControl, FormControlProps, FormHelperText, makeStyles, Theme, Typography } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport * as React from 'react';\nimport { MutableRefObject, useRef, useImperativeHandle } from 'react';\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandle from '../../../hooks/useHttpHandle';\nimport categoryHttp from '../../../util/http/category-http';\nimport { getGenresFromCategory } from '../../../util/model-filters';\nimport { Genre } from '../../../util/models';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    genresSubtitle: {\n        color: grey['800'],\n        fontSize: '0.8rem'\n    }\n}));\n\ninterface CategoryFieldProps {\n    categories: any[];\n    setCategories: (categories) => void;\n    genres: Genre[];\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface CategoryFieldComponent {\n    clear: () => void;\n}\n\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps>((props, ref) => {\n    const { categories, setCategories, genres, error, disabled } = props;\n    const classes = useStyles();\n    const autocompleteHttp = useHttpHandle();\n    const {addItem, removeItem} = useCollectionManager(categories, setCategories);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n    \n    function fetchOptions(searchText) {\n        return autocompleteHttp(\n            categoryHttp.list({\n                queryParams: {\n                    genres: genres.map(genre => genre.id).join(','),\n                    all: \"\"\n                }\n            })\n        ).then(data => data.data)\n    }\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n    \n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    clearOnEscape: true,\n                    freeSolo: false,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled: disabled === true || !genres.length\n                }}\n                TextFieldProps={{\n                    label: \"Categorias\",\n                    error: error !== undefined\n                }}\n            />\n            <FormHelperText style={{height: '24px'}}>\n                Escolha pelo menos uma categoria de cada gnero\n            </FormHelperText>\n            <FormControl\n                margin={\"normal\"}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        categories.map((category, key) => {\n                            const genresFromCategory = getGenresFromCategory(genres, category)\n                                .map(genre => genre.name)\n                                .join(',');\n                            return (\n                            <GridSelectedItem key={key} onDelete={() => removeItem(category)} xs={12}>\n                                <Typography noWrap={true}>\n                                    {category.name}\n                                </Typography>\n                                <Typography noWrap={true} className={classes.genresSubtitle}>\n                                    Gneros: {genresFromCategory}\n                                </Typography>\n                            </GridSelectedItem>)\n                        })\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CategoryField;","import { FormControl, FormControlProps, FormHelperText, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport { useCallback, useImperativeHandle } from 'react';\nimport { MutableRefObject } from 'react';\nimport { useRef } from 'react';\nimport AsyncAutocomplete, { AsyncAutocompleteComponent } from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelectedItem';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport useHttpHandle from '../../../hooks/useHttpHandle';\nimport castMemberHttp from '../../../util/http/cast-member-http';\n\ninterface CastMemberFieldProps {\n    castMembers: any[];\n    setCastMembers: (castMembers) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface CastMemberFieldComponent {\n    clear: () => void;\n}\n\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\n    const { castMembers, setCastMembers, error, disabled } = props;\n    const autocompleteHttp = useHttpHandle();\n    const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n    \n    const fetchOptions = useCallback((searchText) => {\n        return autocompleteHttp(\n            castMemberHttp.list({\n                queryParams: {\n                    search: searchText,\n                    all: \"\"\n                }\n            })\n        ).then(data => data.data)\n    }, [autocompleteHttp]);\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n    \n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: \"Elenco\",\n                    error: error !== undefined\n                }}\n            />\n            <FormControl\n                margin={'normal'}\n                fullWidth\n                error={error !== undefined}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        castMembers.map((castMember, key) => (\n                            <GridSelectedItem key={key} onDelete={() => removeItem(castMember)} xs={6}>\n                                <Typography noWrap={true}>\n                                    {castMember.name}\n                                </Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CastMemberField;","import * as Typings from \"./types\";\nimport { createActions, createReducer } from \"reduxsauce\";\nimport update from \"immutability-helper\";\n\nexport const {Types, Creators} = createActions <{\n    ADD_UPLOAD: string,\n    REMOVE_UPLOAD: string,\n    UPDATE_PROGRESS: string,\n    SET_UPLOAD_ERROR: string\n}, {\n    addUpload(payload: Typings.AddUploadAction['payload']) : Typings.AddUploadAction,\n    removeUpload(payload: Typings.RemoveUploadAction['payload']) : Typings.RemoveUploadAction,\n    updateProgress(payload: Typings.UpdateProgressAction['payload']) : Typings.UpdateProgressAction,\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']) : Typings.SetUploadErrorAction\n}>\n({\n    addUpload: ['payload'],\n    removeUpload: ['payload'],\n    updateProgress: ['payload'],\n    setUploadError: ['payload']\n});\n\nexport const INITIAL_STATE: Typings.UploadState = {\n    uploads: []\n};\n\nconst reducer = createReducer<Typings.UploadState, Typings.AddUploadAction>(INITIAL_STATE, {\n    [Types.ADD_UPLOAD]: addUpload as any,\n    [Types.REMOVE_UPLOAD]: removeUpload as any,\n    [Types.UPDATE_PROGRESS]: updateProgress as any,\n    [Types.SET_UPLOAD_ERROR]: setUploadError as any\n});\n\nexport default reducer;\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction): Typings.UploadState {\n    if (!action.payload.files.length) {\n        return state;\n    }\n\n    const index = findIndexUpload(state, action.payload.video.id);\n    if (index !== -1 && state.uploads[index].progress < 1) {\n        return state;\n    }\n\n    const uploads = index === -1\n        ? state.uploads\n        : update(state.uploads, {\n            $splice: [[index, 1]]\n        });\n\n    return {\n        uploads: [\n            ...uploads,\n            {\n                video: action.payload.video,\n                progress: 0,\n                files: action.payload.files.map(file => ({\n                    fileField: file.fileField,\n                    filename: file.file.name,\n                    progress: 0\n                }))\n            }\n        ]\n    };\n}\n\nfunction removeUpload(state: Typings.UploadState = INITIAL_STATE, action: Typings.RemoveUploadAction) : Typings.UploadState {\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\n    if (uploads.length === state.uploads.length)\n        return state;\n        \n    return {\n        uploads\n    }\n}\n\nfunction updateProgress(state: Typings.UploadState = INITIAL_STATE, action: Typings.UpdateProgressAction) : Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadFile(state, videoId, fileField);\n    if (typeof indexUpload === \"undefined\")\n        return state;\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    if (file.progress === action.payload.progress)\n        return state;\n\n    const uploads = update(state.uploads, {\n        [indexUpload] : {\n            $apply(upload) {\n                const files = update(upload.files, {\n                    [indexFile] : {\n                        $set: {...file, progress: action.payload.progress}\n                    }\n                })\n                const progress = calculateGlobalProgress(files);\n                return {...upload, progress, files}\n            }\n        }\n    });\n\n    return {\n        uploads\n    };\n}\n\nfunction setUploadError(state: Typings.UploadState = INITIAL_STATE, action: Typings.SetUploadErrorAction) : Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadFile(state, videoId, fileField);\n    if (typeof indexUpload === \"undefined\")\n        return state;\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    const uploads = update(state.uploads, {\n        [indexUpload] : {\n            files : {\n                [indexFile] : {\n                    $set: {...file, error: action.payload.error, progress: 1}\n                }\n            }\n        }\n    });\n\n    return {\n        uploads\n    };\n}\n\nfunction findIndexUploadFile(state:Typings.UploadState, videoId, fileField) : {indexUpload?, indexFile?} {\n    const indexUpload = findIndexUpload(state, videoId);\n    if (indexUpload === -1)\n        return {}\n\n    const upload = state.uploads[indexUpload];\n    const indexFile = findIndexFile(upload.files, fileField);\n    return indexFile === -1 ? {} : {indexUpload, indexFile};\n}\n\nfunction calculateGlobalProgress(files: Array<{progress}>) {\n    const countFiles = files.length;\n    if (!countFiles) {\n        return 0;\n    }\n\n    const sumProgress = files.reduce((sum, file) => sum + file.progress, 0);\n    return sumProgress / countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string) {\n    return state.uploads.findIndex((upload) => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{fileField}>, fileField: string) {\n    return files.findIndex((file) => file.fileField === fileField);\n}","import { FileUpload, Upload } from \"./types\";\n\nexport function countInProgress(uploads:Upload[]) {\n    return uploads.filter(upload => !isFinished(upload)).length;\n}\n\nexport function isFinished(obj:Upload | FileUpload) {\n    return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj:Upload | FileUpload) : boolean {\n    if (isUploadType(obj)) {\n        const upload = obj as Upload;\n        return upload.files.some(file => file.error);\n    } else {\n        const file = obj as FileUpload;\n        return file.error !== undefined;\n    }\n}\n\nexport function isUploadType(obj:Upload | FileUpload) {\n    return 'video' in obj;\n}","import { CircularProgress, Fade, makeStyles, Theme } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport * as React from 'react';\nimport { hasError } from '../store/upload/getters';\nimport { FileUpload, Upload } from '../store/upload/types';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    progressContainer: {\n        position: \"relative\"\n    },\n    progress: {\n        position: \"absolute\",\n        left: 0\n    },\n    progressBackground: {\n        color: grey[\"300\"]\n    }\n}));\n\ninterface UploadProgressProps {\n    uploadOrFile: Upload | FileUpload;\n    size: number;\n}\n\nconst UploadProgress : React.FC<UploadProgressProps> = (props) => {\n\n    const {uploadOrFile, size} = props;\n    const classes = useStyles();\n    const error = hasError(uploadOrFile);\n\n    return (\n        <Fade in={uploadOrFile.progress < 1} timeout={{enter: 100, exit: 2000}}>\n            <div className={classes.progressContainer}>\n                <CircularProgress\n                    variant=\"static\"\n                    value={100}\n                    className={classes.progressBackground}\n                    size={size}\n                />\n                <CircularProgress\n                    variant=\"static\"\n                    value={error ? 0 : uploadOrFile.progress * 100}\n                    className={classes.progress}\n                    size={size}\n                />\n            </div>\n        </Fade>\n    );\n};\n\nexport default UploadProgress;","import { Fade, IconButton, ListItemSecondaryAction, makeStyles, Theme } from '@material-ui/core';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { Upload } from '../../store/upload/types';\nimport { useDispatch } from 'react-redux';\nimport { Creators } from '../../store/upload';\nimport * as React from 'react';\nimport { hasError, isFinished } from '../../store/upload/getters';\nimport { useEffect, useState } from 'react';\nimport { useDebounce } from 'use-debounce';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main\n    },\n    erroIcon: {\n        color: theme.palette.error.main\n    },\n    deleteIcon: {\n        color: theme.palette.primary.main\n    }\n}));\n\ninterface UploadActionProps {\n    upload: Upload;\n    hover: boolean;\n}\n\nconst UploadAction : React.FC<UploadActionProps> = (props) => {\n    const {upload, hover} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const error = hasError(upload);\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n    \n    useEffect(() => {\n        setShow(isFinished(upload));\n    }, [upload]);\n\n    return (\n        debouncedShow\n            ? (<Fade in={show} timeout={{enter: 1000}}>\n                <ListItemSecondaryAction>\n                    <span hidden={hover}>\n                        {\n                            upload.progress === 1 && !error && (\n                                <IconButton className={classes.successIcon} edge={'end'}>\n                                    <CheckCircleIcon />\n                                </IconButton>\n                            )\n                        }\n                        {\n                            error && (\n                                <IconButton className={classes.erroIcon} edge={'end'}>\n                                    <ErrorIcon />\n                                </IconButton>\n                            )\n                        }\n                    </span>\n                    <span hidden={!hover}>\n                        <IconButton\n                            color={'primary'}\n                            edge={'end'}\n                            onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}\n                        >\n                            <DeleteIcon />\n                        </IconButton>\n                    </span>\n                </ListItemSecondaryAction>\n            </Fade>)\n            : null\n    );\n};\n\nexport default UploadAction;","import * as React from 'react';\nimport MovieIcon from '@material-ui/icons/Movie';\nimport { Divider, ListItem, ListItemIcon, ListItemText, makeStyles, Theme, Tooltip, Typography } from '@material-ui/core';\nimport UploadProgress from '../UploadProgress';\nimport { Upload } from '../../store/upload/types';\nimport UploadAction from './UploadAction';\nimport { hasError } from '../../store/upload/getters';\nimport { useState } from 'react';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    movieIcon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    },\n    listItem: {\n        paddingTop: '7px',\n        paddingBottom: '7px',\n        height: '53px'\n    },\n    listItemText: {\n        marginLeft: '6px',\n        marginRight: '24px',\n        color: theme.palette.text.secondary\n    }\n}));\n\ninterface UploadItemProps {\n    upload: Upload;\n}\n\nconst UploadItem : React.FC<UploadItemProps> = (props) => {\n    const {upload} = props;\n    const classes = useStyles();\n    const error = hasError(upload);\n    const [itemHover, setItemHover] = useState(false);\n\n    return (\n        <>\n            <Tooltip\n                disableFocusListener\n                disableTouchListener\n                title={\n                    error ? \"No foi possvel realizar o upload, clique para mais detalhes\" : \"\"\n                }\n                placement={\"left\"}\n            >\n                <ListItem\n                    className={classes.listItem}\n                    button\n                    onMouseOver={() => setItemHover(true)}\n                    onMouseLeave={() => setItemHover(false)}\n                >\n                    <ListItemIcon className={classes.movieIcon}>\n                        <MovieIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                        className={classes.listItemText}\n                        primary={\n                            <Typography noWrap={true} variant={'subtitle2'} color={\"inherit\"}>\n                                {upload.video.title}\n                            </Typography>\n                        }\n                    />\n                    <UploadProgress size={30} uploadOrFile={upload}/>\n                    <UploadAction upload={upload} hover={itemHover}/>\n                </ListItem>\n            </Tooltip>\n            <Divider component=\"li\"/>\n        </>\n    );\n};\n\nexport default UploadItem;","import * as React from 'react';\nimport { Card, CardActions, Collapse, IconButton, List, makeStyles, Theme, Typography } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useSnackbar } from 'notistack';\nimport { useState } from 'react';\nimport classnames from 'classnames';\nimport UploadItem from './UploadItem';\nimport { useSelector } from 'react-redux';\nimport { UploadModule, Upload } from '../../store/upload/types';\nimport { countInProgress } from '../../store/upload/getters';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        width: 450\n    },\n    cardActionRoot: {\n        padding: '8px 8px 8px 16px',\n        backgroundColor: theme.palette.primary.main\n    },\n    title: {\n        fontWeight: 'bold',\n        color: theme.palette.primary.contrastText\n    },\n    icons: {\n        marginLeft: 'auto !important',\n        color: theme.palette.primary.contrastText\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    list: {\n        paddingTop: 0,\n        paddingBottom: 0\n    }\n}));\n\ninterface SnackbarUploadProps {\n    id: string | number;\n}\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) => {\n\n    const {id} = props;\n    const {closeSnackbar} = useSnackbar();\n    const classes = useStyles();\n    const [expanded, setExpanded] = useState(true);\n    const uploads = useSelector<UploadModule, Upload[]>((state) => state.upload.uploads);\n    const totalInProgress = countInProgress(uploads);\n\n    return (\n        <Card ref={ref} className={classes.card}>\n            <CardActions classes={{ root: classes.cardActionRoot }}>\n                <Typography variant=\"subtitle2\" className={classes.title}>\n                    Fazendo upload de {totalInProgress} vdeo(s)\n                </Typography>\n                <div className={classes.icons}>\n                    <IconButton\n                        color={'inherit'}\n                        onClick={() => setExpanded(!expanded)}\n                        className={classnames(classes.expand, {[classnames.expandOpen] : !expanded})}\n                    >\n                        <ExpandMoreIcon />\n                    </IconButton>\n                    <IconButton color={'inherit'} onClick={() => closeSnackbar(id)}>\n                        <CloseIcon />\n                    </IconButton>\n                </div>\n            </CardActions>\n            <Collapse in={expanded}>\n                <List className={classes.list}>\n                    {uploads.map((upload, key) => (\n                        <UploadItem key={key} upload={upload}/>\n                    ))}\n                </List>\n            </Collapse>\n        </Card>\n    );\n});\n\nexport default SnackbarUpload;","import { Card, CardContent, Checkbox, FormControlLabel, Grid, makeStyles, TextField, Theme, Typography, useMediaQuery, useTheme } from '@material-ui/core';\nimport * as React from 'react';\nimport { useForm } from 'react-hook-form';\nimport videoHttp from '../../../util/http/video-http';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from '../../../util/vendor/yup';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router';\nimport { useSnackbar } from 'notistack';\nimport SubmitActions from '../../../components/SubmitActions';\nimport { DefaultForm } from '../../../components/DefaultForm';\nimport { Video, VideoFileFieldsMap } from '../../../util/models';\nimport { RatingField } from './RatingField';\nimport { UploadField } from './UploadField';\nimport GenreField, { GenreFieldComponent } from './GenreField';\nimport CategoryField, { CategoryFieldComponent } from './CategoryField';\nimport CastMemberField, { CastMemberFieldComponent } from './CastMemberField';\nimport { useRef } from 'react';\nimport { MutableRefObject } from 'react';\nimport { InputFileComponent } from '../../../components/InputFile';\nimport { createRef } from 'react';\nimport { omit, zipObject } from 'lodash';\nimport useSnackbarFormError from '../../../hooks/useSnackbarFormError';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\nimport { useDispatch } from 'react-redux';\nimport { FileInfo } from '../../../store/upload/types';\nimport { Creators } from '../../../store/upload';\nimport SnackbarUpload from '../../../components/SnackbarUpload';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    cardUpload: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#fsfsfs\",\n        margin: theme.spacing(2, 0)\n    },\n    cardOpened: {\n        borderRadius: \"4px\",\n        backgroundColor: \"#fsfsfs\"\n    },\n    cardContentOpened: {\n        paddingBottom: theme.spacing(2) + \"px !important\"\n    }\n}));\n\nconst validationSchema = yup.object().shape({\n    title: yup.string()\n        .label(\"Ttulo\")\n        .required()\n        .max(255),\n    description: yup.string()\n        .label(\"Sinopse\")\n        .required(),\n    year_launched: yup.number()\n        .label(\"Ano de lancamento\")\n        .required()\n        .min(1),\n    duration: yup.number()\n        .label(\"Durao\")\n        .required()\n        .min(1),\n    rating: yup.string()\n        .label(\"Classificao\")\n        .required(),\n    cast_members: yup.array()\n        .label(\"Elenco\")\n        .required(),\n    categories: yup.array()\n        .label(\"Categorias\")\n        .required(),\n    genres: yup.array()\n        .label(\"Gneros\")\n        .required()\n        .test({\n            message: \"Cada gnero escolhido precisa ter pelo menos uma categoria selecionada\",\n            test(value: any){\n                return value.every(\n                    v => v.categories.filter(\n                        cat => this.parent.categories.map(c => c.id).includes(cat.id)\n                    ).length !== 0\n                );\n            }\n        })\n});\n\nconst fileFields = Object.keys(VideoFileFieldsMap);\n\nexport const Form = () => {\n\n    const {register, handleSubmit, getValues, setValue, errors, reset, watch, trigger, formState} = useForm({\n        resolver: yupResolver(validationSchema),\n        defaultValues: {\n            title: '',\n            description: '',\n            year_launched: '',\n            duration: '',\n            rating: '',\n            opened: false,\n            thumb_file: '',\n            banner_file: '',\n            trailer_file: '',\n            video_file: '',\n            genres: [],\n            categories: [],\n            cast_members: []\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const classes = useStyles();\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [video, setVideo] = useState<Video | null>(null);\n    const loading = useContext(LoadingContext);\n    const theme = useTheme();\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n    const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\n    const genreRef = useRef() as MutableRefObject<GenreFieldComponent>;\n    const categoryRef = useRef() as MutableRefObject<CategoryFieldComponent>;\n    const uploadsRef = useRef(\n            zipObject(fileFields, fileFields.map(() => createRef()))\n        ) as MutableRefObject<{[key: string]: MutableRefObject<InputFileComponent>}>;\n\n    // const uploads = useSelector<UploadModule, Upload[]>((state) => state.upload.uploads);\n    const dispatch = useDispatch();\n\n    // setTimeout(() => {\n    //     const obj: any = {\n    //         video: {\n    //             id: '1',\n    //             title: 'e o vento levou'\n    //         },\n    //         files: [\n    //             {file: new File([\"\"], \"teste.mp4\")}\n    //         ]\n    //     };\n    //     dispatch(Creators.addUpload(obj));\n    // }, 1000);\n\n    // console.log(uploads);\n\n    const resetForm = useCallback((data) => {\n        Object.keys(uploadsRef.current).forEach(\n            field => uploadsRef.current[field].current.clear()\n        );\n        castMemberRef.current.clear();\n        genreRef.current.clear();\n        categoryRef.current.clear();\n        reset(data);\n    }, [castMemberRef, genreRef, categoryRef, uploadsRef, reset]);\n\n    useEffect(() => {\n        register({name: \"thumb_file\"});\n        register({name: \"banner_file\"});\n        register({name: \"trailer_file\"});\n        register({name: \"video_file\"});\n        register({name: \"rating\"});\n        register({name: \"opened\"});\n        register({name: \"genres\"});\n        register({name: \"categories\"});\n        register({name: \"cast_members\"});\n    }, [register]);\n\n    useEffect(() =>{\n        if (!id)\n            return;\n\n        let isSubcribed = true;\n        (async () => {\n            try {\n                const {data} = await videoHttp.get(id);\n                if (isSubcribed) {\n                    setVideo(data.data);\n                    resetForm(data.data);    \n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar(\n                    \"No foi possvel carregar as informaes\",\n                    {variant: \"error\"}\n                )\n            }\n        })();\n        return () => {\n            isSubcribed = false;\n        }\n    }, [id, resetForm, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        const sendData = omit(formData, [...fileFields, 'cast_members', 'genres', 'categories']);\n        sendData['cast_members_id'] = formData['cast_members'].map(cast_member => cast_member.id);\n        sendData['categories_id'] = formData['categories'].map(category => category.id);\n        sendData['genres_id'] = formData['genres'].map(genre => genre.id);\n\n        try {\n            const http = !video\n            ? videoHttp.create(sendData)\n            //: videoHttp.update(video.id, {...sendData, _method: 'PUT'}, {http: {usePost: true}});\n            : videoHttp.update(video.id, {...sendData});\n        \n            const {data} = await http;\n            enqueueSnackbar(\n                'Vdeo salvo com sucesso',\n                {variant: 'success'}\n            );\n            uploadFiles(data.data);\n            id && resetForm(video);\n            setTimeout(() => {\n                event ? (\n                    id ? history.replace(`/videos/${data.data.id}/edit`) :\n                    history.push(`/videos/${data.data.id}/edit`)\n                ) : history.push('/videos')\n            });\n        } catch (error) {\n            console.log(error);\n            enqueueSnackbar(\n                'No foi possvel salvar o vdeo',\n                {variant: 'error'}\n            );\n        }\n    }\n\n    function uploadFiles(video) {\n        const files: FileInfo[] = fileFields\n            .filter(fileField => getValues()[fileField])\n            .map(fileField => ({fileField, file: getValues()[fileField] as File}));\n\n        if (!files.length) {\n            return;\n        }\n\n        dispatch(Creators.addUpload({video, files}));\n\n        enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right'\n            },\n            content: (key, message) => {\n                const id = key as any;\n                return <SnackbarUpload id={id}/>\n            }\n        });\n    }\n\n    return (\n        <DefaultForm GridItemProps={{xs:12}} onSubmit={handleSubmit(onSubmit)}>\n            <Grid container spacing={5}>\n                <Grid item xs={12} md={6}>\n                    <TextField\n                        name=\"title\"\n                        label=\"Ttulo\"\n                        fullWidth\n                        variant={\"outlined\"}\n                        inputRef={register}\n                        disabled={loading}\n                        error={errors.title !== undefined}\n                        helperText={errors.title && errors.title.message}\n                        InputLabelProps={{shrink: true}}\n                    />\n                    <TextField\n                        name=\"description\"\n                        label=\"Sinopse\"\n                        multiline\n                        rows=\"4\"\n                        fullWidth\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{shrink: true}}\n                        error={errors.description !== undefined}\n                        helperText={errors.description && errors.description.message}\n                    />\n                    <Grid container spacing={1}>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"year_launched\"\n                                label=\"Ano de lanamento\"\n                                type=\"number\"\n                                fullWidth\n                                variant={\"outlined\"}\n                                margin={\"normal\"}\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{shrink: true}}\n                                error={errors.year_launched !== undefined}\n                                helperText={errors.year_launched && errors.year_launched.message}\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"duration\"\n                                label=\"Durao\"\n                                type=\"number\"\n                                fullWidth\n                                variant={\"outlined\"}\n                                margin={\"normal\"}\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{shrink: true}}\n                                error={errors.duration !== undefined}\n                                helperText={errors.duration && errors.duration.message}\n                            />\n                        </Grid>\n                    </Grid>\n                    <CastMemberField\n                        ref={castMemberRef}\n                        castMembers={watch('cast_members')}\n                        setCastMembers={(value) => setValue('cast_members', value)}\n                        error={errors.cast_members}\n                        disabled={loading}\n                    />\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={6}>\n                            <GenreField\n                                ref={genreRef}\n                                genres={watch('genres')}\n                                setGenres={(value) => setValue('genres', value)}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value)}\n                                error={errors.genres}\n                                disabled={loading}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <CategoryField\n                                ref={categoryRef}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value)}\n                                genres={watch('genres')}\n                                error={errors.categories}\n                                disabled={loading}\n                            />\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <RatingField \n                        value={watch('rating')}\n                        setValue={(value) => setValue('rating', value)}\n                        error={errors.rating}\n                        disabled={loading}\n                        FormControlProps={{\n                            margin: isGreaterMd ? 'none' : 'normal'\n                        }}\n                    />\n                    <br/>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Imagens\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['thumb_file']}\n                                accept={'image/*'}\n                                label={'Thumb'}\n                                setValue={(value) => setValue('thumb_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['banner_file']}\n                                accept={'image/*'}\n                                label={'Banner'}\n                                setValue={(value) => setValue('banner_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Vdeos\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['trailer_file']}\n                                accept={'video/mp4'}\n                                label={'Trailer'}\n                                setValue={(value) => setValue('trailer_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['video_file']}\n                                accept={'video/mp4'}\n                                label={'Principal'}\n                                setValue={(value) => setValue('video_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardOpened}>\n                        <CardContent className={classes.cardContentOpened}>\n                            <FormControlLabel\n                                disabled={loading}\n                                control={\n                                    <Checkbox\n                                        name=\"opened\"\n                                        color=\"primary\"\n                                        onChange={() => setValue('opened', !getValues()['opened'])}\n                                        checked={watch('opened')}\n                                    />\n                                }\n                                label={\n                                    <Typography color=\"primary\" variant={\"subtitle2\"}>\n                                        Quero que este contedo aparea na seleo lanamentos\n                                    </Typography>\n                                }\n                                labelPlacement=\"end\"\n                            />\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n                            \n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() => trigger().then(isValid => {\n                    isValid && onSubmit(getValues(), null);\n                })}\n            />\n        </DefaultForm>\n    );\n}","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport { useParams } from 'react-router';\nimport { Form } from './Form';\n\nconst PageForm = () => {\n    const {id} = useParams();\n    return (\n        <Page title={!id ? \"Criar vdeo\" : \"Editar vdeo\"}>\n            <Form/>\n        </Page>\n    )\n}\n\nexport default PageForm;","import { Divider, Fade, IconButton, makeStyles, Theme } from '@material-ui/core';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport {Link} from 'react-router-dom';\nimport { FileUpload, Upload } from '../../store/upload/types';\nimport { useDispatch } from 'react-redux';\nimport { Creators } from '../../store/upload';\nimport * as React from 'react';\nimport { hasError, isFinished, isUploadType } from '../../store/upload/getters';\nimport { useEffect, useState } from 'react';\nimport { useDebounce } from 'use-debounce';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main,\n        marginLeft: theme.spacing(1)\n    },\n    erroIcon: {\n        color: theme.palette.error.main,\n        marginLeft: theme.spacing(1)\n    },\n    divider: {\n        height: '20px',\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1)\n    }\n}));\n\ninterface UploadActionProps {\n    uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadAction : React.FC<UploadActionProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n    const error = hasError(uploadOrFile);\n    const videoId = (uploadOrFile as any).video?.id;\n    const activeActions = isUploadType(uploadOrFile);\n\n    useEffect(() => {\n        setShow(isFinished(uploadOrFile));\n    }, [uploadOrFile]);\n\n    return (\n        debouncedShow\n            ? (<Fade in={show} timeout={{enter: 1000}}>\n                <>\n                    {\n                        uploadOrFile.progress === 1 &&\n                        !error &&\n                        <CheckCircleIcon className={classes.successIcon} />\n                    }\n                    { error && <ErrorIcon className={classes.erroIcon} />}\n                    { activeActions &&\n                        (<>\n                            <Divider className={classes.divider} orientation=\"vertical\" />\n                            <IconButton\n                                onClick={() => dispatch(Creators.removeUpload({id: videoId}))}\n                            >\n                                <DeleteIcon color={\"primary\"} />\n                            </IconButton>\n                            <IconButton\n                                component={Link}\n                                to={`/videos/${videoId}/edit`}\n                            >\n                                <EditIcon color={\"primary\"} />\n                            </IconButton>\n                        </>)\n                    }\n                </>\n            </Fade>)\n            : null\n    );\n};\n\nexport default UploadAction;","import * as React from 'react';\nimport MovieIcon from '@material-ui/icons/Movie';\nimport ImageIcon from '@material-ui/icons/Image';\nimport { Grid, ListItem, makeStyles, Theme, Typography } from '@material-ui/core';\nimport UploadProgress from '../../components/UploadProgress';\nimport UploadAction from './UploadAction';\nimport { FileUpload, Upload } from '../../store/upload/types';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        gridTitle: {\n            display: 'flex',\n            color: '#999999'\n        },\n        icon: {\n            color: theme.palette.error.main,\n            minWidth: '40px'\n        }\n    })\n});\n\ninterface UploadItemProps {\n    uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadItem : React.FC<UploadItemProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n\n    function makeIcon() {\n        if (true) {\n            return <MovieIcon className={classes.icon} />\n        }\n\n        return <ImageIcon className={classes.icon} />\n    }\n\n    return (\n        <ListItem>\n            <Grid container alignItems={'center'}>\n                <Grid\n                    className={classes.gridTitle}\n                    item\n                    xs={12}\n                    md={9}\n                >\n                    {makeIcon()}\n                    <Typography color={\"inherit\"}>\n                        {props.children}\n                    </Typography>\n                </Grid>\n                <Grid item xs={12} md={3}>\n                    <Grid\n                        container\n                        direction={\"row\"}\n                        alignItems={'center'}\n                        justify={\"flex-end\"}\n                    >\n                        <UploadProgress size={48} uploadOrFile={uploadOrFile} />\n                        <UploadAction uploadOrFile={uploadOrFile} />\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    );\n};\n\nexport default UploadItem;","import { Card, CardContent, Divider, ExpansionPanel, ExpansionPanelDetails, ExpansionPanelSummary, Grid, List, makeStyles, Theme, Typography } from '@material-ui/core';\nimport * as React from 'react';\nimport { Page } from '../../components/Page';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport UploadItem from './UploadItem';\nimport { useSelector } from 'react-redux';\nimport { UploadModule, Upload } from '../../store/upload/types';\nimport { VideoFileFieldsMap } from '../../util/models';\n\nconst useSytles = makeStyles((theme: Theme) => {\n    return ({\n        panelSummary: {\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText\n        },\n        expandedIcon: {\n            color: theme.palette.primary.contrastText\n        }\n    })\n});\n\nconst Uploads = () => {\n\n    const classes = useSytles();\n    const uploads = useSelector<UploadModule, Upload[]>((state) => state.upload.uploads);\n\n    return (\n        <Page title={'Uploads'}>\n            { uploads.map((upload, key) => (\n                <Card elevation={5} key={key}>\n                    <CardContent>\n                        <UploadItem uploadOrFile={upload}>\n                            {upload.video.title}\n                        </UploadItem>\n                        <ExpansionPanel style={{margin: 0}}>\n                            <ExpansionPanelSummary\n                                className={classes.panelSummary}\n                                expandIcon={<ExpandMoreIcon className={classes.expandedIcon}/>}\n                            >\n                                <Typography>Ver detalhes</Typography>\n                            </ExpansionPanelSummary>\n                            <ExpansionPanelDetails style={{padding: \"0px\"}}>\n                                <Grid item xs={12}>\n                                    <List dense={true} style={{padding: \"0px\"}}>\n                                        { upload.files.map((file, key) => (\n                                                <React.Fragment key={key}>\n                                                    <Divider/>\n                                                    <UploadItem uploadOrFile={file}>\n                                                        {`${VideoFileFieldsMap[file.fileField]} - ${file.filename}`}\n                                                    </UploadItem>\n                                                </React.Fragment>\n                                            ))\n                                        }\n                                    </List>\n                                </Grid>\n                            </ExpansionPanelDetails>\n                        </ExpansionPanel>\n                    </CardContent>\n                </Card>))\n            }\n        </Page>\n    );\n};\n\nexport default Uploads;","import { RouteProps } from \"react-router-dom\";\nimport Dashboard from \"../pages/Dashboard\";\nimport CategoryList from \"../pages/category/PageList\";\nimport CategoryForm from \"../pages/category/PageForm\";\nimport CastMemberList from \"../pages/cast-member/PageList\";\nimport CastMemberForm from \"../pages/cast-member/PageForm\";\nimport GenreList from \"../pages/genre/PageList\";\nimport GenreForm from \"../pages/genre/PageForm\";\nimport VideoList from \"../pages/video/PageList\";\nimport VideoForm from \"../pages/video/PageForm\";\nimport UploadPage from \"../pages/uploads\";\n\nexport interface MyRouteProps extends RouteProps {\n    name: string;\n    label: string;\n}\n\nconst routes : MyRouteProps[] = [\n    {\n        name: 'dashboard',\n        label: 'Dashboard',\n        path: '/',\n        component: Dashboard,\n        exact: true\n    },\n    {\n        name: 'categories.list',\n        label: 'Listar categorias',\n        path: '/categories',\n        component: CategoryList,\n        exact: true\n    },\n    {\n        name: 'categories.create',\n        label: 'Criar categoria',\n        path: '/categories/create',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'categories.edit',\n        label: 'Editar categoria',\n        path: '/categories/:id/edit',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.list',\n        label: 'Listar membros de elencos',\n        path: '/cast_members',\n        component: CastMemberList,\n        exact: true\n    },\n    {\n        name: 'cast_members.create',\n        label: 'Criar membros de elenco',\n        path: '/cast_members/create',\n        component: CastMemberForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.edit',\n        label: 'Editar membros de elenco',\n        path: '/cast_members/:id/edit',\n        component: CastMemberForm,\n        exact: true\n    },\n    {\n        name: 'genres.list',\n        label: 'Listar gneros',\n        path: '/genres',\n        component: GenreList,\n        exact: true\n    },\n    {\n        name: 'genres.create',\n        label: 'Criar gneros',\n        path: '/genres/create',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'genres.edit',\n        label: 'Editar gneros',\n        path: '/genres/:id/edit',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'videos.list',\n        label: 'Listar vdeos',\n        path: '/videos',\n        component: VideoList,\n        exact: true\n    },\n    {\n        name: 'videos.create',\n        label: 'Criar vdeos',\n        path: '/videos/create',\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'videos.edit',\n        label: 'Editar vdeos',\n        path: '/videos/:id/edit',\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'uploads',\n        label: 'Uploads',\n        path: '/uploads',\n        component: UploadPage,\n        exact: true\n    }\n];\n\nexport default routes;","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Link, { LinkProps } from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Route } from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Location } from 'history';\nimport routes from '../routes';\nimport RouteParser from 'route-parser';\nimport { Box, Container } from '@material-ui/core';\n\nconst breadcrumbNameMap: { [key: string]: string } = {};\nroutes.forEach(route => breadcrumbNameMap[route.path as string] = route.label);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    linkRouter: {\n      color: theme.palette.secondary.main,\n      \"&:focus, &:actice\": {\n        color: theme.palette.secondary.main,\n      },\n      \"&:hover\": {\n        color: theme.palette.secondary.dark\n      }\n    }\n  }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n  to: string;\n  replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any} />;\n\nexport default function Breadcrumbs() {\n  const classes = useStyles();\n\n  function makeBreadcrumb(location: Location) {\n      const pathnames = location.pathname.split('/').filter((x) => x);\n      pathnames.unshift(\"/\");\n\n      return (\n        <MuiBreadcrumbs aria-label=\"breadcrumb\">\n          {pathnames.map((value, index) => {\n            const last = index === pathnames.length - 1;\n            const to = `${pathnames.slice(0, index + 1).join('/').replace('//', '/')}`;\n            const route = Object.keys(breadcrumbNameMap).find(path => new RouteParser(path).match(to));\n\n            if (route === undefined) {\n              return false;\n            }\n\n            return last ? (\n              <Typography color=\"textPrimary\" key={to}>\n                {breadcrumbNameMap[route]}\n              </Typography>\n            ) : (\n              <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\n                {breadcrumbNameMap[route]}\n              </LinkRouter>\n            );\n          })}\n        </MuiBreadcrumbs>\n      );\n  }\n\n  return (\n    <Container>\n      <Box paddingTop={2} paddingBottom={1}>\n        <Route>\n          {\n            ({location}: {location: Location}) => makeBreadcrumb(location)\n          }          \n        </Route>\n      </Box>\n    </Container>\n  );\n}\n","import * as React from 'react';\nimport LoadingContext from './LoadingContext';\nimport { useEffect, useMemo, useState } from 'react';\nimport { addGlobalRequestInterceptor, addGlobalResponseInterceptor, removeGlobalRequestInterceptor, removeGlobalResponseInterceptor } from '../../util/http';\n\nexport const LoadingProvider = (props) => {\n    const [loading, setLoading] = useState(false);\n    const [countRequest, setCountRequest] = useState(0);\n   \n    useMemo(() => {\n        let isSubscribed = true;\n        const requestIds = addGlobalRequestInterceptor((config) => {\n            if (isSubscribed && !config.headers.hasOwnProperty('x-ignore-loading')) {\n                setLoading(true);\n                setCountRequest((prevCountRequest) => prevCountRequest + 1);\n            }\n            return config;\n        });\n\n        const responseIds = addGlobalResponseInterceptor((response) => \n        {\n            if (isSubscribed && !response.config.headers.hasOwnProperty('x-ignore-loading')) {\n                setCountRequest((prevCountRequest) => prevCountRequest - 1);\n            }\n            return response;\n        }, (error) => {\n            if (isSubscribed && !error.config.headers.hasOwnProperty('x-ignore-loading')) {\n                setCountRequest((prevCountRequest) => prevCountRequest - 1);\n            }\n            return Promise.reject(error);\n        });\n\n        return () => {\n            isSubscribed = false;\n            removeGlobalRequestInterceptor(requestIds);\n            removeGlobalResponseInterceptor(responseIds);\n        }\n    },\n    // eslint-disable-next-line \n    [true]);\n\n    useEffect(() => {\n        if (!countRequest) {\n            setLoading(false);\n        }\n    }, [countRequest]);\n    \n    return (\n        <LoadingContext.Provider value={loading}>\n            {props.children}\n        </LoadingContext.Provider>\n    );\n};","import * as React from 'react';\nimport { IconButton, Menu as MuiMenu, MenuItem } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport routes, {MyRouteProps} from '../../routes';\nimport { Link } from 'react-router-dom';\n\nconst listRoutes = {\n    'dashboard': 'dashboard',\n    'categories.list': 'Categorias',\n    'cast_members.list': 'Membros de elenco',\n    'genres.list': 'Gneros',\n    'videos.list': 'Vdeos',\n    'uploads': 'Uploads'\n};\n\nconst menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name));\n\nexport const Menu = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n\n    const handleOpen = (event:any) => setAnchorEl(event.currentTarget);\n    const handleClose = () => setAnchorEl(null);\n    return (\n        <React.Fragment>\n            <IconButton\n                edge='start'\n                color='inherit'\n                aria-label='open drawer'\n                aria-controls='menu-appbar'\n                aria-haspopup='true'\n                onClick={handleOpen}\n            >\n                <MenuIcon></MenuIcon>\n            </IconButton>\n\n            <MuiMenu\n                id=\"menu-appbar\"\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{vertical: 'bottom', horizontal: 'center'}}\n                transformOrigin={{vertical: 'top', horizontal: 'center'}}\n                getContentAnchorEl={null}\n            >\n                {\n                    Object.keys(listRoutes).map(\n                        (routeName, key) => {\n                            const route = menuRoutes.find(route => route.name === routeName) as MyRouteProps;\n                            return (\n                                <MenuItem key={key} component={Link} to={route.path as string} onClick={handleClose}>\n                                    {listRoutes[routeName]}\n                                </MenuItem>\n                            )\n                        }\n                    )\n                }\n            </MuiMenu>\n        </React.Fragment>\n    );\n};","import * as React from 'react';\nimport { AppBar, Button, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport logo from '../../static/img/logo.png'\nimport { Menu } from './Menu';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    toolbar: {\n        backgroundColor: '#000000'\n    },\n    title: {\n        flexGrow: 1,\n        textAlign: \"center\"\n    },\n    logo: {\n        width: 100,\n        [theme.breakpoints.up('sm')] : {\n            width: 170\n        }\n    }\n}));\n\nexport const Navbar : React.FC = () => {\n    const classes = useStyles();\n\n    return (\n        <AppBar>\n            <Toolbar className={classes.toolbar}>\n                <Menu></Menu>\n                <Typography className={classes.title}>\n                    <img src={logo} alt=\"CodeFlix\" className={classes.logo}/>\n                </Typography>\n                <Button color=\"inherit\">Login</Button>\n            </Toolbar>    \n        </AppBar>\n    );\n};","import * as React from 'react';\nimport { IconButton } from '@material-ui/core';\nimport { SnackbarProvider as NotistackProvider, SnackbarProviderProps } from 'notistack';\nimport CloseIcon from '@material-ui/icons/Close';\n\nexport const SnackbarProvider: React.FC<SnackbarProviderProps> = (props) => {\n    let snackbarProviderRef;\n    const defaultProps: SnackbarProviderProps = {\n        children: null,\n        autoHideDuration: 3000,\n        maxSnack: 3,\n        anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'top'\n        },\n        preventDuplicate: true,\n        ref: (el) => snackbarProviderRef = el,\n        action: (key) => (\n            <IconButton\n                color=\"inherit\"\n                style={{fontSize: 20}}\n                onClick={() => snackbarProviderRef.closeSnackbar(key)}\n            >\n                <CloseIcon/>\n            </IconButton>\n        )\n    };\n\n    const newProps = {...defaultProps, ...props};\n\n    return (\n        <NotistackProvider {...newProps}>\n            {props.children}\n        </NotistackProvider>\n    );\n};","import { Fade, LinearProgress, MuiThemeProvider, Theme } from '@material-ui/core';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport LoadingContext from './Loading/LoadingContext';\n\nfunction makeLocalTheme(theme: Theme) : Theme {\n    return {\n        ...theme,\n        palette: {\n            ...theme.palette,\n            primary: theme.palette.error,\n            type: 'dark'\n        }\n    }\n}\n\nconst Spinner = () => {\n    const loading = useContext(LoadingContext);\n    return (\n        <MuiThemeProvider theme={makeLocalTheme}>\n            <Fade in={loading}>\n                <LinearProgress\n                    color={\"primary\"}\n                    style={{\n                        position: 'fixed',\n                        width: '100%',\n                        zIndex: 9999\n                    }}\n                />\n            </Fade>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Spinner;","import * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport routes from './index';\n\nexport const AppRouter = () => {\n    return (\n        <Switch>\n            {\n                routes.map(\n                    (route, key) => (\n                        <Route\n                            key={key}\n                            path={route.path}\n                            component={route.component}\n                            exact={route.exact === true}\n                        />\n                    )\n                )\n            }\n        </Switch>\n    );\n};\n\nexport default AppRouter;","import { Box, CssBaseline, MuiThemeProvider } from '@material-ui/core';\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Breadcrumbs from './components/Breadcrumbs';\nimport { LoadingProvider } from './components/Loading/LoadingProvider';\nimport { Navbar } from './components/Navbar';\nimport { SnackbarProvider } from './components/SnackbarProvider';\nimport Spinner from './components/Spinner';\nimport AppRouter from './routes/AppRouter';\nimport theme from './theme';\n\nfunction App() {\n  return (\n    <React.Fragment>\n      <LoadingProvider>\n        <MuiThemeProvider theme={theme}>\n          <SnackbarProvider>\n            <CssBaseline />\n            <BrowserRouter basename=\"/admin\">\n              <Spinner />\n              <Navbar/>\n              <Box paddingTop=\"70px\">\n                <Breadcrumbs></Breadcrumbs>\n                <AppRouter/>\n              </Box>\n            </BrowserRouter>\n          </SnackbarProvider>\n        </MuiThemeProvider>\n      </LoadingProvider>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {Creators, Types} from \"./index\";\nimport {actionChannel, call, put, take} from \"redux-saga/effects\";\nimport { AddUploadAction, FileInfo } from \"./types\";\nimport { Video } from \"../../util/models\";\nimport videoHttp from \"../../util/http/video-http\";\nimport { END, eventChannel } from \"redux-saga\";\n\nexport function* uploadWatcherSaga() {\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n    while (true) {\n        const {payload} : AddUploadAction = yield take(newFilesChannel);\n        for (const fileInfo of payload.files) {\n            try {\n                // eslint-disable-next-line\n                const response = yield call(uploadFile, {video: payload.video, fileInfo});    \n            } catch (error) {\n                console.log(error);\n            }\n            \n        }\n                \n    }\n}\n\nfunction* uploadFile({video, fileInfo} : {video: Video, fileInfo: FileInfo}) {\n    const channel = yield call(sendUpload, {id: video.id, fileInfo});\n    while (true) {\n        try {\n            const {progress, response} = yield take(channel);\n            if (response) {\n                return response;\n            }\n\n            yield put(Creators.updateProgress({\n                video,\n                fileField: fileInfo.fileField,\n                progress\n            }));\n        } catch (error) {\n            yield put(Creators.setUploadError({\n                video,\n                fileField: fileInfo.fileField,\n                error\n            }));\n            throw error;\n        }\n        \n    }\n}\n\nfunction sendUpload({id, fileInfo} : {id: string, fileInfo: FileInfo}) {\n    return eventChannel(emitter => {\n        videoHttp.partialUpdate(id, {\n            _method: 'PATCH',\n            [fileInfo.fileField]: fileInfo.file\n        }, {\n            http: {\n                usePost: true\n            },\n            config: {\n                headers: {\n                    'x-ignore-loading': true\n                },\n                onUploadProgress(progressEvent: ProgressEvent) {\n                    if (progressEvent.lengthComputable) {\n                        const progress = progressEvent.loaded / progressEvent.total;\n                        emitter({progress});\n                    }\n                }\n            }\n        })\n        .then(response => emitter({response}))\n        .catch(error => emitter(error))\n        .finally(() => emitter(END));\n\n        const unsubscribe = () => {};\n        return unsubscribe;\n    });\n}","import {all} from 'redux-saga/effects';\nimport { uploadWatcherSaga } from './upload/sagas';\n\nexport default function* rootSaga() {\n    yield all([\n        uploadWatcherSaga()\n    ]);\n}","import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport createSagaMidleware from \"redux-saga\";\nimport rootSaga from \"./root-saga\";\nimport upload from \"./upload\";\n\nconst sagaMidleware = createSagaMidleware();\nconst store = createStore(\n    combineReducers({\n        upload\n    }),\n    applyMiddleware(sagaMidleware)\n);\nsagaMidleware.run(rootSaga);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}